import{c as Xe,R as f,g as $e,r as M,u as le,j as o,P as E,T as et,a as De,b as Be,d as tt,e as rt,f as nt,h as at,i as it}from"./index-d6534032.js";import{c as C,f as A,_ as Me,a as Ke,b as ot,d as st,i as D,T as ye,p as T,L as N,g as Ge,e as xe,h as ze,D as ct,C as lt,j as W,k as z,S as ut,A as dt,l as ft,m as Oe,n as mt,o as V,q as pt,G as vt,r as ht,s as gt,t as re,w as Pe,u as ne,v as yt,x as Ve,y as xt,z as bt,R as At,B as jt,I as Ot}from"./generateCategoricalChart-b8e30584.js";import{T as Pt}from"./trending-down-bee8a929.js";import{L as ke}from"./leaf-6580ae76.js";import{t as kt,p as Nt,g as _t}from"./carbonFloor-62ea8a2f.js";import{S as ae}from"./Slider-1e252996.js";const wt=Xe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);var Et=["points","className","baseLinePoints","connectNulls"];function q(){return q=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q.apply(this,arguments)}function Tt(t,e){if(t==null)return{};var n=St(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function St(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ne(t){return Ft(t)||Ct(t)||It(t)||Rt()}function Rt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function It(t,e){if(t){if(typeof t=="string")return pe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pe(t,e)}}function Ct(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ft(t){if(Array.isArray(t))return pe(t)}function pe(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var _e=function(e){return e&&e.x===+e.x&&e.y===+e.y},Lt=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){_e(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),_e(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},J=function(e,n){var r=Lt(e);n&&(r=[r.reduce(function(i,s){return[].concat(Ne(i),Ne(s))},[])]);var a=r.map(function(i){return i.reduce(function(s,l,u){return"".concat(s).concat(u===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(a,"Z"):a},$t=function(e,n,r){var a=J(e,r);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(J(n.reverse(),r).slice(1))},Dt=function(e){var n=e.points,r=e.className,a=e.baseLinePoints,i=e.connectNulls,s=Tt(e,Et);if(!n||!n.length)return null;var l=C("recharts-polygon",r);if(a&&a.length){var u=s.stroke&&s.stroke!=="none",c=$t(n,a,i);return f.createElement("g",{className:l},f.createElement("path",q({},A(s,!0),{fill:c.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:c})),u?f.createElement("path",q({},A(s,!0),{fill:"none",d:J(n,i)})):null,u?f.createElement("path",q({},A(s,!0),{fill:"none",d:J(a,i)})):null)}var m=J(n,i);return f.createElement("path",q({},A(s,!0),{fill:m.slice(-1)==="Z"?s.fill:"none",className:l,d:m}))},Bt=Me,Mt=ot,Kt=Ke;function Gt(t,e){return t&&t.length?Bt(t,Kt(e),Mt):void 0}var zt=Gt;const Vt=$e(zt);var qt=Me,Ht=Ke,Wt=st;function Yt(t,e){return t&&t.length?qt(t,Ht(e),Wt):void 0}var Ut=Yt;const Zt=$e(Ut);var Qt=["cx","cy","angle","ticks","axisLine"],Jt=["ticks","tick","angle","tickFormatter","stroke"];function Y(t){"@babel/helpers - typeof";return Y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(t)}function X(){return X=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X.apply(this,arguments)}function we(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function L(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?we(Object(n),!0).forEach(function(r){ue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ee(t,e){if(t==null)return{};var n=Xt(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xt(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function er(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Te(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,He(r.key),r)}}function tr(t,e,n){return e&&Te(t.prototype,e),n&&Te(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function rr(t,e,n){return e=oe(e),nr(t,qe()?Reflect.construct(e,n||[],oe(t).constructor):e.apply(t,n))}function nr(t,e){if(e&&(Y(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ar(t)}function ar(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qe=function(){return!!t})()}function oe(t){return oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},oe(t)}function ir(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ve(t,e)}function ve(t,e){return ve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},ve(t,e)}function ue(t,e,n){return e=He(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function He(t){var e=or(t,"string");return Y(e)=="symbol"?e:e+""}function or(t,e){if(Y(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Y(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var de=function(t){function e(){return er(this,e),rr(this,e,arguments)}return ir(e,t),tr(e,[{key:"getTickValueCoord",value:function(r){var a=r.coordinate,i=this.props,s=i.angle,l=i.cx,u=i.cy;return T(l,u,a,s)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,a;switch(r){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var r=this.props,a=r.cx,i=r.cy,s=r.angle,l=r.ticks,u=Vt(l,function(m){return m.coordinate||0}),c=Zt(l,function(m){return m.coordinate||0});return{cx:a,cy:i,startAngle:s,endAngle:s,innerRadius:c.coordinate||0,outerRadius:u.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,i=r.cy,s=r.angle,l=r.ticks,u=r.axisLine,c=Ee(r,Qt),m=l.reduce(function(p,d){return[Math.min(p[0],d.coordinate),Math.max(p[1],d.coordinate)]},[1/0,-1/0]),v=T(a,i,m[0],s),y=T(a,i,m[1],s),j=L(L(L({},A(c,!1)),{},{fill:"none"},A(u,!1)),{},{x1:v.x,y1:v.y,x2:y.x,y2:y.y});return f.createElement("line",X({className:"recharts-polar-radius-axis-line"},j))}},{key:"renderTicks",value:function(){var r=this,a=this.props,i=a.ticks,s=a.tick,l=a.angle,u=a.tickFormatter,c=a.stroke,m=Ee(a,Jt),v=this.getTickTextAnchor(),y=A(m,!1),j=A(s,!1),p=i.map(function(d,g){var x=r.getTickValueCoord(d),b=L(L(L(L({textAnchor:v,transform:"rotate(".concat(90-l,", ").concat(x.x,", ").concat(x.y,")")},y),{},{stroke:"none",fill:c},j),{},{index:g},x),{},{payload:d});return f.createElement(N,X({className:C("recharts-polar-radius-axis-tick",Ge(s)),key:"tick-".concat(d.coordinate)},xe(r.props,d,g)),e.renderTickItem(s,b,u?u(d.value,g):d.value))});return f.createElement(N,{className:"recharts-polar-radius-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,a=r.ticks,i=r.axisLine,s=r.tick;return!a||!a.length?null:f.createElement(N,{className:C("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),s&&this.renderTicks(),ze.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,a,i){var s;return f.isValidElement(r)?s=f.cloneElement(r,a):D(r)?s=r(a):s=f.createElement(ye,X({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),s}}])}(M.PureComponent);ue(de,"displayName","PolarRadiusAxis");ue(de,"axisType","radiusAxis");ue(de,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function U(t){"@babel/helpers - typeof";return U=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(t)}function B(){return B=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B.apply(this,arguments)}function Se(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function $(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Se(Object(n),!0).forEach(function(r){fe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Re(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ye(r.key),r)}}function cr(t,e,n){return e&&Re(t.prototype,e),n&&Re(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lr(t,e,n){return e=se(e),ur(t,We()?Reflect.construct(e,n||[],se(t).constructor):e.apply(t,n))}function ur(t,e){if(e&&(U(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dr(t)}function dr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function We(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(We=function(){return!!t})()}function se(t){return se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},se(t)}function fr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&he(t,e)}function he(t,e){return he=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},he(t,e)}function fe(t,e,n){return e=Ye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ye(t){var e=mr(t,"string");return U(e)=="symbol"?e:e+""}function mr(t,e){if(U(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(U(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pr=Math.PI/180,Ie=1e-5,me=function(t){function e(){return sr(this,e),lr(this,e,arguments)}return fr(e,t),cr(e,[{key:"getTickLineCoord",value:function(r){var a=this.props,i=a.cx,s=a.cy,l=a.radius,u=a.orientation,c=a.tickSize,m=c||8,v=T(i,s,l,r.coordinate),y=T(i,s,l+(u==="inner"?-1:1)*m,r.coordinate);return{x1:v.x,y1:v.y,x2:y.x,y2:y.y}}},{key:"getTickTextAnchor",value:function(r){var a=this.props.orientation,i=Math.cos(-r.coordinate*pr),s;return i>Ie?s=a==="outer"?"start":"end":i<-Ie?s=a==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,i=r.cy,s=r.radius,l=r.axisLine,u=r.axisLineType,c=$($({},A(this.props,!1)),{},{fill:"none"},A(l,!1));if(u==="circle")return f.createElement(ct,B({className:"recharts-polar-angle-axis-line"},c,{cx:a,cy:i,r:s}));var m=this.props.ticks,v=m.map(function(y){return T(a,i,s,y.coordinate)});return f.createElement(Dt,B({className:"recharts-polar-angle-axis-line"},c,{points:v}))}},{key:"renderTicks",value:function(){var r=this,a=this.props,i=a.ticks,s=a.tick,l=a.tickLine,u=a.tickFormatter,c=a.stroke,m=A(this.props,!1),v=A(s,!1),y=$($({},m),{},{fill:"none"},A(l,!1)),j=i.map(function(p,d){var g=r.getTickLineCoord(p),x=r.getTickTextAnchor(p),b=$($($({textAnchor:x},m),{},{stroke:"none",fill:c},v),{},{index:d,payload:p,x:g.x2,y:g.y2});return f.createElement(N,B({className:C("recharts-polar-angle-axis-tick",Ge(s)),key:"tick-".concat(p.coordinate)},xe(r.props,p,d)),l&&f.createElement("line",B({className:"recharts-polar-angle-axis-tick-line"},y,g)),s&&e.renderTickItem(s,b,u?u(p.value,d):p.value))});return f.createElement(N,{className:"recharts-polar-angle-axis-ticks"},j)}},{key:"render",value:function(){var r=this.props,a=r.ticks,i=r.radius,s=r.axisLine;return i<=0||!a||!a.length?null:f.createElement(N,{className:C("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,a,i){var s;return f.isValidElement(r)?s=f.cloneElement(r,a):D(r)?s=r(a):s=f.createElement(ye,B({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),s}}])}(M.PureComponent);fe(me,"displayName","PolarAngleAxis");fe(me,"axisType","angleAxis");fe(me,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var ie;function Z(t){"@babel/helpers - typeof";return Z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(t)}function H(){return H=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H.apply(this,arguments)}function Ce(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ce(Object(n),!0).forEach(function(r){P(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ze(r.key),r)}}function hr(t,e,n){return e&&Fe(t.prototype,e),n&&Fe(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gr(t,e,n){return e=ce(e),yr(t,Ue()?Reflect.construct(e,n||[],ce(t).constructor):e.apply(t,n))}function yr(t,e){if(e&&(Z(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xr(t)}function xr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ue(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ue=function(){return!!t})()}function ce(t){return ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ce(t)}function br(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ge(t,e)}function ge(t,e){return ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},ge(t,e)}function P(t,e,n){return e=Ze(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ze(t){var e=Ar(t,"string");return Z(e)=="symbol"?e:e+""}function Ar(t,e){if(Z(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Z(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var S=function(t){function e(n){var r;return vr(this,e),r=gr(this,e,[n]),P(r,"pieRef",null),P(r,"sectorRefs",[]),P(r,"id",yt("recharts-pie-")),P(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),D(a)&&a()}),P(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),D(a)&&a()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return br(e,t),hr(e,[{key:"isActiveIndex",value:function(r){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(r)!==-1:r===a}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.label,l=i.labelLine,u=i.dataKey,c=i.valueKey,m=A(this.props,!1),v=A(s,!1),y=A(l,!1),j=s&&s.offsetRadius||20,p=r.map(function(d,g){var x=(d.startAngle+d.endAngle)/2,b=T(d.cx,d.cy,d.outerRadius+j,x),k=h(h(h(h({},m),d),{},{stroke:"none"},v),{},{index:g,textAnchor:e.getTextAnchor(b.x,d.cx)},b),K=h(h(h(h({},m),d),{},{fill:"none",stroke:d.fill},y),{},{index:g,points:[T(d.cx,d.cy,d.outerRadius,x),b]}),_=u;return W(u)&&W(c)?_="value":W(u)&&(_=c),f.createElement(N,{key:"label-".concat(d.startAngle,"-").concat(d.endAngle,"-").concat(d.midAngle,"-").concat(g)},l&&e.renderLabelLineItem(l,K,"line"),e.renderLabelItem(s,k,z(d,_)))});return f.createElement(N,{className:"recharts-pie-labels"},p)}},{key:"renderSectorsStatically",value:function(r){var a=this,i=this.props,s=i.activeShape,l=i.blendStroke,u=i.inactiveShape;return r.map(function(c,m){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&r.length!==1)return null;var v=a.isActiveIndex(m),y=u&&a.hasActiveIndex()?u:null,j=v?s:y,p=h(h({},c),{},{stroke:l?c.fill:c.stroke,tabIndex:-1});return f.createElement(N,H({ref:function(g){g&&!a.sectorRefs.includes(g)&&a.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},xe(a.props,c,m),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(m)}),f.createElement(ut,H({option:j,isActive:v,shapeType:"sector"},p)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,a=this.props,i=a.sectors,s=a.isAnimationActive,l=a.animationBegin,u=a.animationDuration,c=a.animationEasing,m=a.animationId,v=this.state,y=v.prevSectors,j=v.prevIsAnimationActive;return f.createElement(dt,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(m,"-").concat(j),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(p){var d=p.t,g=[],x=i&&i[0],b=x.startAngle;return i.forEach(function(k,K){var _=y&&y[K],F=K>0?ft(k,"paddingAngle",0):0;if(_){var Q=Oe(_.endAngle-_.startAngle,k.endAngle-k.startAngle),O=h(h({},k),{},{startAngle:b+F,endAngle:b+Q(d)+F});g.push(O),b=O.endAngle}else{var G=k.endAngle,w=k.startAngle,ee=Oe(0,G-w),te=ee(d),R=h(h({},k),{},{startAngle:b+F,endAngle:b+te+F});g.push(R),b=R.endAngle}}),f.createElement(N,null,r.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(r){var a=this;r.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var s=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,a=r.sectors,i=r.isAnimationActive,s=this.state.prevSectors;return i&&a&&a.length&&(!s||!mt(s,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,a=this.props,i=a.hide,s=a.sectors,l=a.className,u=a.label,c=a.cx,m=a.cy,v=a.innerRadius,y=a.outerRadius,j=a.isAnimationActive,p=this.state.isAnimationFinished;if(i||!s||!s.length||!V(c)||!V(m)||!V(v)||!V(y))return null;var d=C("recharts-pie",l);return f.createElement(N,{tabIndex:this.props.rootTabIndex,className:d,ref:function(x){r.pieRef=x}},this.renderSectors(),u&&this.renderLabels(s),ze.renderCallByParent(this.props,null,!1),(!j||p)&&pt.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return a.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:r.sectors!==a.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,a){return r>a?"start":r<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,a,i){if(f.isValidElement(r))return f.cloneElement(r,a);if(D(r))return r(a);var s=C("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return f.createElement(lt,H({},a,{key:i,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(r,a,i){if(f.isValidElement(r))return f.cloneElement(r,a);var s=i;if(D(r)&&(s=r(a),f.isValidElement(s)))return s;var l=C("recharts-pie-label-text",typeof r!="boolean"&&!D(r)?r.className:"");return f.createElement(ye,H({},a,{alignmentBaseline:"middle",className:l}),s)}}])}(M.PureComponent);ie=S;P(S,"displayName","Pie");P(S,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!vt.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});P(S,"parseDeltaAngle",function(t,e){var n=ne(e-t),r=Math.min(Math.abs(e-t),360);return n*r});P(S,"getRealPieData",function(t){var e=t.data,n=t.children,r=A(t,!1),a=ht(n,Ve);return e&&e.length?e.map(function(i,s){return h(h(h({payload:i},r),i),a&&a[s]&&a[s].props)}):a&&a.length?a.map(function(i){return h(h({},r),i.props)}):[]});P(S,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,a=e.width,i=e.height,s=gt(a,i),l=r+re(t.cx,a,a/2),u=n+re(t.cy,i,i/2),c=re(t.innerRadius,s,0),m=re(t.outerRadius,s,s*.8),v=t.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:u,innerRadius:c,outerRadius:m,maxRadius:v}});P(S,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?h(h({},e.type.defaultProps),e.props):e.props,a=ie.getRealPieData(r);if(!a||!a.length)return null;var i=r.cornerRadius,s=r.startAngle,l=r.endAngle,u=r.paddingAngle,c=r.dataKey,m=r.nameKey,v=r.valueKey,y=r.tooltipType,j=Math.abs(r.minAngle),p=ie.parseCoordinateOfPie(r,n),d=ie.parseDeltaAngle(s,l),g=Math.abs(d),x=c;W(c)&&W(v)?(Pe(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):W(c)&&(Pe(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=v);var b=a.filter(function(O){return z(O,x,0)!==0}).length,k=(g>=360?b:b-1)*u,K=g-b*j-k,_=a.reduce(function(O,G){var w=z(G,x,0);return O+(V(w)?w:0)},0),F;if(_>0){var Q;F=a.map(function(O,G){var w=z(O,x,0),ee=z(O,m,G),te=(V(w)?w:0)/_,R;G?R=Q.endAngle+ne(d)*u*(w!==0?1:0):R=s;var be=R+ne(d)*((w!==0?j:0)+te*K),Ae=(R+be)/2,je=(p.innerRadius+p.outerRadius)/2,Qe=[{name:ee,value:w,payload:O,dataKey:x,type:y}],Je=T(p.cx,p.cy,je,Ae);return Q=h(h(h({percent:te,cornerRadius:i,name:ee,tooltipPayload:Qe,midAngle:Ae,middleRadius:je,tooltipPosition:Je},O),p),{},{value:z(O,x),startAngle:R,endAngle:be,payload:O,paddingAngle:ne(d)*u}),Q})}return h(h({},p),{},{sectors:F,data:a})});var jr=xt({chartName:"PieChart",GraphicalChild:S,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:me},{axisType:"radiusAxis",AxisComp:de}],formatAxisMap:bt,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Le=1500,Or=["#3B82F6","#10B981","#F59E0B","#8B5CF6"],Pr=()=>{const{costBreakdown:t,totalAnnualCost:e}=le(),n=t.map((a,i)=>({name:a.name,value:a.value,amount:a.amount,color:Or[i]})),r=({active:a,payload:i})=>a&&i&&i.length?o.jsxs("div",{className:"bg-white p-2 shadow-lg rounded border border-gray-200",children:[o.jsx("p",{className:"text-sm font-semibold",children:i[0].name}),o.jsxs("p",{className:"text-sm",children:["£",i[0].payload.amount.toFixed(0)," (",i[0].value,"%)"]})]}):null;return o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Cost Breakdown (£/cow/year)"}),o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"w-48 h-48 relative mr-6",children:[o.jsx(At,{width:"100%",height:"100%",children:o.jsxs(jr,{children:[o.jsx(S,{data:n,cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,paddingAngle:2,dataKey:"value",isAnimationActive:Le>0,animationDuration:Le,children:n.map((a,i)=>o.jsx(Ve,{fill:a.color},`cell-${i}`))}),o.jsx(jt,{content:o.jsx(r,{})})]})}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-xs text-gray-500",children:"Total Cost"}),o.jsxs("div",{className:"text-xl font-bold",children:["£",e.toFixed(0)]})]})})]}),o.jsx("div",{className:"flex-1 space-y-2",children:n.map((a,i)=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:a.color}}),o.jsx("span",{className:"text-sm text-gray-700",children:a.name})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:["£",a.amount.toFixed(0)]}),o.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",a.value,"%)"]})]})]},i))})]})]})},I=({title:t,value:e,unit:n="",subtitle:r,icon:a,iconColor:i="text-gray-600",valueColor:s="text-gray-900",bgColor:l="bg-gray-50"})=>o.jsxs("div",{className:`${l} p-4 rounded-lg`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-sm text-gray-600",children:t}),a&&o.jsx(a,{className:i,size:16})]}),o.jsxs("div",{className:`text-xl font-bold ${s}`,children:[e,n&&o.jsx("span",{className:"text-sm font-normal ml-1",children:n})]}),r&&o.jsx("div",{className:"text-xs text-gray-500 mt-1",children:r})]}),kr=()=>{const{performanceMetrics:t,emissions:e}=le();return o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Performance Metrics"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(I,{title:"Emissions",value:t.emissions.toFixed(2),unit:"kg CO₂e/L",icon:t.emissions>E.EMISSIONS_TARGET?et:Pt,iconColor:t.emissions>E.EMISSIONS_TARGET?"text-red-500":"text-green-500",valueColor:t.emissions>E.EMISSIONS_TARGET?"text-red-600":"text-green-600",bgColor:"bg-gray-50"}),o.jsx(I,{title:"Feed Efficiency",value:t.feedEfficiency.toFixed(2),unit:"L/kg",icon:De,iconColor:t.feedEfficiency>=E.FEED_EFFICIENCY_TARGET?"text-green-500":"text-blue-500",valueColor:t.feedEfficiency>=E.FEED_EFFICIENCY_TARGET?"text-green-600":"text-blue-600",bgColor:"bg-gray-50"}),o.jsx(I,{title:"Protein Efficiency",value:t.proteinEfficiency.toFixed(1),unit:"%",icon:ke,iconColor:t.proteinEfficiency>=E.PROTEIN_EFFICIENCY_TARGET?"text-green-500":"text-yellow-500",valueColor:t.proteinEfficiency>=E.PROTEIN_EFFICIENCY_TARGET?"text-green-600":"text-yellow-600",bgColor:"bg-gray-50"}),o.jsx(I,{title:"N Efficiency",value:t.nitrogenEfficiency.toFixed(1),unit:"%",icon:ke,iconColor:t.nitrogenEfficiency>=E.NITROGEN_EFFICIENCY_TARGET?"text-green-500":"text-yellow-500",valueColor:t.nitrogenEfficiency>=E.NITROGEN_EFFICIENCY_TARGET?"text-green-600":"text-yellow-600",bgColor:"bg-gray-50"})]})]})},Nr=()=>{const{parameters:t,totalFarmEmissions:e,netFarmEmissions:n,totalFarmProduction:r,totalFarmProfit:a,sequestration:i,emissionsIntensity:s}=le(),l=kt(t.herdSize)/1e3,u=Nt(e,t.herdSize),c=_t(u);return o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[o.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[o.jsx(De,{className:"mr-2",size:18}),"Total Farm Impact (",t.herdSize," cows)"]}),o.jsxs("div",{className:`${c.color.replace("text-","bg-").replace("700","50")} rounded-lg p-3 mb-4`,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ot,{size:16,className:c.color}),o.jsxs("span",{className:`text-sm font-medium ${c.color}`,children:[u.toFixed(0),"% above Theoretical Minimum"]})]}),o.jsx("span",{className:`text-xs ${c.color}`,children:c.category})]}),o.jsxs("div",{className:"mt-1 text-xs text-gray-600",children:["Biological floor: ",l.toFixed(0),"t CO₂e/year • Gap: ",(e-l).toFixed(0),"t"]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(I,{title:"Gross Emissions",value:e.toFixed(0),unit:"t CO₂e/year",subtitle:`${(e/t.herdSize).toFixed(1)} t/cow`,bgColor:"bg-red-50",valueColor:"text-red-600"}),o.jsx(I,{title:"Net Emissions",value:n.toFixed(0),unit:"t CO₂e/year",subtitle:`${i.totalSequestration.toFixed(0)} t sequestered`,bgColor:"bg-green-50",valueColor:n>0?"text-orange-600":"text-green-600"}),o.jsx(I,{title:"Total Production",value:r.toFixed(0),unit:"k L/year",subtitle:`${t.milkYield.toLocaleString()} L/cow`,bgColor:"bg-blue-50",valueColor:"text-blue-600"}),o.jsx(I,{title:"Est. Annual Profit",value:`£${(a/1e3).toFixed(0)}k`,subtitle:`£${(a/t.herdSize).toFixed(0)}/cow`,bgColor:"bg-yellow-50",valueColor:a>0?"text-green-600":"text-red-600"})]}),o.jsxs("div",{className:"mt-4 pt-4 border-t text-sm text-gray-600 flex justify-between",children:[o.jsxs("span",{children:["Carbon intensity: ",o.jsxs("strong",{children:[s.toFixed(2)," kg CO₂e/L"]})]}),o.jsxs("span",{children:["Net intensity: ",o.jsxs("strong",{children:[(n/r).toFixed(3)," kg CO₂e/L"]})]})]})]})},_r=()=>{const{emissionsIntensity:t}=le(),{loanAmount:e,loanTerm:n,updateLoanParameter:r}=Be(),a=M.useMemo(()=>tt(t,e),[t,e]),i=M.useMemo(()=>rt(a,e),[a,e]),s=M.useMemo(()=>nt(e,i,n),[e,i,n]),l=M.useMemo(()=>at(s,n),[s,n]);return o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Financing Options"}),o.jsxs("div",{className:"mb-4 space-y-1",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-sm text-gray-600 mr-2",children:"Risk Score:"}),o.jsx(it,{score:a})]}),o.jsxs("div",{className:"text-xs text-gray-500",children:["Loan tier: ",e<1e6?"< £1m":e<5e6?"£1-5m":"> £5m"]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"loan-amount",className:"block text-sm font-medium text-gray-700 mb-2",children:"Loan Amount (£)"}),o.jsx("input",{id:"loan-amount",name:"loan-amount",type:"number",value:e,onChange:u=>r("loanAmount",Number(u.target.value)),step:5e4,min:1e5,max:1e7,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsx(ae,{label:"Term (years)",value:n,onChange:u=>r("loanTerm",u),min:1,max:25,step:1,decimals:0,showValue:!0})]}),o.jsxs("div",{className:"mt-6 space-y-3 pt-4 border-t border-gray-200",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Interest Rate:"}),o.jsxs("span",{className:"text-sm font-semibold",children:[(i*100).toFixed(1),"%"]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Monthly Repayment:"}),o.jsxs("span",{className:"text-lg font-bold text-blue-600",children:["£",s.toLocaleString("en-GB",{maximumFractionDigits:0})]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Total Repaid:"}),o.jsxs("span",{className:"text-lg font-bold text-gray-800",children:["£",l.toLocaleString("en-GB",{maximumFractionDigits:0})]})]})]}),o.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:o.jsxs("a",{href:`mailto:relationship.manager@bank.com?subject=GHG%20Loan%20Inquiry%20-%20Risk%20Score%3A%20${a}`,className:"w-full text-center bg-indigo-600 text-white px-4 py-3 rounded-md hover:bg-indigo-700 transition-colors flex items-center justify-center",children:[o.jsx(wt,{className:"mr-2",size:18}),"Click here to speak to your Relationship Manager"]})})]})},wr=()=>{const{parameters:t,updateParameter:e}=Be();return o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Feed Parameters"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(ae,{label:"Feed Quality",value:t.feedQuality,onChange:n=>e("feedQuality",n),min:1,max:10,step:1,unit:"",decimals:0,info:"Higher quality feed improves efficiency"}),o.jsx(ae,{label:"Concentrate Feed",value:t.concentrateFeed,onChange:n=>e("concentrateFeed",n),min:0,max:12,step:.5,unit:" kg/day",decimals:1}),o.jsx(ae,{label:"Feed Carbon Footprint",value:t.feedCarbonFootprint,onChange:n=>e("feedCarbonFootprint",n),min:.3,max:2,step:.1,unit:" kg CO₂e/kg",decimals:1})]})]})},Fr=({state:t,actions:e})=>o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx("div",{className:"col-span-1 lg:col-span-2",children:o.jsx(_r,{})}),o.jsx("div",{className:"col-span-1 lg:col-span-2",children:o.jsx(wr,{})}),o.jsx(Pr,{}),o.jsx(kr,{}),o.jsx("div",{className:"col-span-1 lg:col-span-2",children:o.jsx(Nr,{})})]})});export{Fr as default};
