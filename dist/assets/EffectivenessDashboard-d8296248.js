import{d as x,u as o,j as e,P as i}from"./index-f864a162.js";const m=()=>{const{parameters:l,updateParameter:r}=x(),{performanceMetrics:s}=o(),n=(t,a,d=!1)=>d?t<=a?"text-green-600":t<=a*1.2?"text-yellow-600":"text-red-600":t>=a?"text-green-600":t>=a*.8?"text-yellow-600":"text-red-600",c=(t,a,d=!1)=>d?t<=a?"bg-green-500":t<=a*1.2?"bg-yellow-500":"bg-red-500":t>=a?"bg-green-500":t>=a*.8?"bg-yellow-500":"bg-red-500";return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-semibold text-blue-800 mb-3",children:"Overall Herd Effectiveness Score"}),e.jsxs("div",{className:"text-center mb-4",children:[e.jsxs("div",{className:`text-4xl font-bold ${n(s.overallHerdEffectiveness,i.OVERALL_HERD_EFFECTIVENESS_TARGET)}`,children:[s.overallHerdEffectiveness.toFixed(1),"%"]}),e.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["Target: ≥",i.OVERALL_HERD_EFFECTIVENESS_TARGET,"%"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Heifers Calving <25 months"}),e.jsxs("span",{className:`text-xs font-bold ${n(s.calvingUnder25Pct,90)}`,children:[s.calvingUnder25Pct.toFixed(0),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${c(s.calvingUnder25Pct,90)}`,style:{width:`${s.calvingUnder25Pct}%`}})}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Current: ",l.ageFirstCalving.toFixed(1)," months"]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Achieving 380-day CI Target"}),e.jsxs("span",{className:`text-xs font-bold ${n(s.hitCalvingIntervalPct,90)}`,children:[s.hitCalvingIntervalPct.toFixed(0),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${c(s.hitCalvingIntervalPct,90)}`,style:{width:`${s.hitCalvingIntervalPct}%`}})}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Current: ",l.calvingInterval," days"]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Herd Retention Rate"}),e.jsxs("span",{className:`text-xs font-bold ${n(s.retentionRate,i.RETENTION_RATE_TARGET)}`,children:[s.retentionRate.toFixed(0),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${c(s.retentionRate,i.RETENTION_RATE_TARGET)}`,style:{width:`${s.retentionRate}%`}})}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Replacement: ",s.replacementRate.toFixed(1),"% | Avg lactations: ",l.avgLactations.toFixed(1)]})]})]}),e.jsxs("div",{className:"mt-4 pt-3 border-t border-blue-200",children:[e.jsx("h4",{className:"text-xs font-semibold text-gray-700 mb-2",children:"Calculation:"}),e.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[e.jsxs("div",{children:[s.calvingUnder25Pct.toFixed(0),"% ×",s.hitCalvingIntervalPct.toFixed(0),"% ×",s.retentionRate.toFixed(0),"% =",e.jsxs("strong",{children:[" ",s.overallHerdEffectiveness.toFixed(1),"%"]})]}),e.jsx("div",{className:"text-xs text-gray-500 italic",children:"(% <25mo) × (% hit CI) × (retention rate)"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-xs font-semibold text-gray-700 mb-2",children:"Improvement Tips:"}),e.jsxs("ul",{className:"text-xs text-gray-600 space-y-1",children:[l.ageFirstCalving>25&&e.jsx("li",{children:"• Reduce age at first calving to under 25 months through better heifer management"}),l.calvingInterval>380&&e.jsx("li",{children:"• Improve heat detection and breeding programs to achieve 380-day calving interval"}),s.retentionRate<75&&e.jsx("li",{children:"• Increase cow longevity through better health management and culling decisions"}),s.overallHerdEffectiveness>=70&&e.jsx("li",{children:"• Excellent performance! Maintain current management practices"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("button",{onClick:()=>{r("ageFirstCalving",24)},className:"text-xs bg-blue-100 text-blue-700 px-3 py-2 rounded hover:bg-blue-200 transition-colors",children:"Optimize Heifer Age"}),e.jsx("button",{onClick:()=>{r("calvingInterval",380)},className:"text-xs bg-blue-100 text-blue-700 px-3 py-2 rounded hover:bg-blue-200 transition-colors",children:"Optimize Calving Interval"})]})]})},h=({state:l,actions:r})=>e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Lifetime Methane Effectiveness"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"LME Score"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-5xl font-bold text-blue-600",children:l.lmeResult.lme.toFixed(0)}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Target: ≥350 for sustainable dairy"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Industry Benchmark"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Your LME"}),e.jsx("span",{className:"font-bold",children:l.lmeResult.lme.toFixed(0)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Industry Average"}),e.jsx("span",{className:"font-medium",children:"320"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Top 10%"}),e.jsx("span",{className:"font-medium text-green-600",children:"380+"})]})]})]}),e.jsx("div",{className:"col-span-1 lg:col-span-2",children:e.jsx(m,{})})]})]})});export{h as default};
