import{b as p,r as o,j as e}from"./index-63bc7d5f.js";import{c as g}from"./reductionPathway-91e441fc.js";import{a as b,c as u}from"./greenFinancing-d11750b4.js";import"./carbonFloor-62ea8a2f.js";const N=({pathway:m})=>{const n=p(s=>s.parameters),i=p(s=>s.loanAmount),t=o.useMemo(()=>m||g(n),[m,n]),r=o.useMemo(()=>n.milkYield*n.herdSize*.35,[n.milkYield,n.herdSize]),x=o.useMemo(()=>t.totalPotentialReduction/t.currentEmissions*100,[t]),c=o.useMemo(()=>b(r,i,720,x),[r,i,x]),a=o.useMemo(()=>u(t,720,i),[t,i]),l=s=>`$${s.toLocaleString()}`,d=s=>`${(s*100).toFixed(1)}%`;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Financing Eligibility"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-green-50 p-4 rounded",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Max Loan Amount"}),e.jsx("p",{className:"text-xl font-bold text-green-900",children:l(c.maxLoanAmount)})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Annual Revenue"}),e.jsx("p",{className:"text-xl font-bold text-blue-900",children:l(r)})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Debt Service Ratio"}),e.jsx("p",{className:"text-xl font-bold text-purple-900",children:d(c.debtServiceRatio)})]}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Green Bonus Rate"}),e.jsx("p",{className:"text-xl font-bold text-yellow-900",children:d(c.greenBonus)})]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recommended Financing Package"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:l(a.totalInvestment)}),e.jsx("p",{className:"text-sm text-gray-600",children:"Total Investment Needed"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-blue-600",children:l(a.totalMonthlyCost)}),e.jsx("p",{className:"text-sm text-gray-600",children:"Monthly Payment"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[a.paybackPeriod.toFixed(1)," years"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Payback Period"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-4 border-t",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Financing Cost"}),e.jsx("p",{className:"font-semibold",children:l(a.totalFinancingCost)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Net Present Value"}),e.jsx("p",{className:`font-semibold ${a.netPresentValue>0?"text-green-600":"text-red-600"}`,children:l(a.netPresentValue)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Internal Rate of Return"}),e.jsx("p",{className:"font-semibold",children:d(a.internalRateOfReturn)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Carbon Cost Effectiveness"}),e.jsxs("p",{className:"font-semibold",children:["$",a.carbonCostEffectiveness.toFixed(2),"/kg CO₂e"]})]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Financing Sources"}),e.jsx("div",{className:"space-y-4",children:a.financingOptions.map((s,h)=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:s.option.name}),e.jsx("p",{className:"text-sm text-gray-600",children:s.option.description})]}),e.jsx("span",{className:`px-2 py-1 text-xs rounded ${s.option.type==="grant"?"bg-green-100 text-green-800":s.option.type==="loan"?"bg-blue-100 text-blue-800":s.option.type==="carbon-credit"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:s.option.type})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Amount:"}),e.jsx("span",{className:"ml-1 font-semibold",children:l(s.amount)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Monthly:"}),e.jsx("span",{className:"ml-1 font-semibold",children:l(s.monthlyCost)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Rate:"}),e.jsx("span",{className:"ml-1 font-semibold",children:d(s.option.interestRate-s.option.greenDiscount)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Term:"}),e.jsxs("span",{className:"ml-1 font-semibold",children:[s.option.term," years"]})]})]}),e.jsx("div",{className:"mt-2 text-sm text-gray-600",children:e.jsxs("span",{className:"text-green-600 font-semibold",children:[s.carbonBenefit.toFixed(0)," kg CO₂e reduction funded"]})})]},h))})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"All Available Green Financing Options"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:c.eligibleOptions.map(s=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.description}),e.jsxs("div",{className:"mt-3 space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Max Amount:"}),e.jsx("span",{className:"font-semibold",children:l(s.maxAmount)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Interest Rate:"}),e.jsx("span",{className:"font-semibold",children:d(s.interestRate)})]}),s.greenDiscount>0&&e.jsxs("div",{className:"flex justify-between text-green-600",children:[e.jsx("span",{children:"Green Discount:"}),e.jsxs("span",{className:"font-semibold",children:["-",d(s.greenDiscount)]})]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"text-xs text-gray-600 font-semibold",children:"Requirements:"}),e.jsx("ul",{className:"text-xs text-gray-600 mt-1",children:s.requirements.map((h,j)=>e.jsxs("li",{className:"ml-2",children:["• ",h]},j))})]})]},s.id))})]}),e.jsxs("div",{className:"bg-green-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-2",children:"Ready to Get Started?"}),e.jsxs("p",{className:"text-green-800 mb-4",children:["Your farm qualifies for multiple green financing options that can help you achieve a ",x.toFixed(1),"% reduction in emissions while improving profitability."]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{className:"bg-green-600 text-white px-6 py-2 rounded hover:bg-green-700",children:"Download Financing Report"}),e.jsx("button",{className:"bg-white text-green-600 border border-green-600 px-6 py-2 rounded hover:bg-green-50",children:"Schedule Consultation"})]})]})]})},R=({state:m,actions:n})=>{const i=p(a=>a.parameters),t=o.useMemo(()=>g(i),[i]),r=t.totalCost,x=t.totalPotentialReduction/t.currentEmissions*100,c=r/(t.totalPotentialReduction*25);return e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Green Financing Options"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 text-white p-4 rounded-lg",children:[e.jsx("p",{className:"text-sm opacity-90",children:"Total Investment"}),e.jsxs("p",{className:"text-2xl font-bold",children:["$",r.toLocaleString()]}),e.jsx("p",{className:"text-xs opacity-80 mt-1",children:"For all measures"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white p-4 rounded-lg",children:[e.jsx("p",{className:"text-sm opacity-90",children:"Emissions Reduction"}),e.jsxs("p",{className:"text-2xl font-bold",children:[x.toFixed(1),"%"]}),e.jsx("p",{className:"text-xs opacity-80 mt-1",children:"From current levels"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 text-white p-4 rounded-lg",children:[e.jsx("p",{className:"text-sm opacity-90",children:"Simple Payback"}),e.jsxs("p",{className:"text-2xl font-bold",children:[c.toFixed(1)," years"]}),e.jsx("p",{className:"text-xs opacity-80 mt-1",children:"From carbon credits"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-yellow-500 to-yellow-600 text-white p-4 rounded-lg",children:[e.jsx("p",{className:"text-sm opacity-90",children:"Available Measures"}),e.jsx("p",{className:"text-2xl font-bold",children:t.measures.length}),e.jsx("p",{className:"text-xs opacity-80 mt-1",children:"Reduction options"})]})]}),e.jsx(N,{pathway:t})]})};export{R as default};
