import{c as Xe,R as f,g as $e,r as M,u as le,j as o,P as E,T as et,a as De,t as tt,p as nt,b as rt,d as Be,e as at,f as it,h as ot,i as st,k as ct}from"./index-39be7b0d.js";import{c as C,f as A,_ as Me,a as Ke,b as lt,d as ut,i as D,T as ye,p as T,L as N,g as Ge,e as xe,h as ze,D as dt,C as ft,j as W,k as z,S as mt,A as pt,l as vt,m as Oe,n as ht,o as V,q as gt,G as yt,r as xt,s as bt,t as ne,w as Pe,u as re,v as At,x as Ve,y as jt,z as Ot,R as Pt,B as kt,I as Nt}from"./generateCategoricalChart-4578280f.js";import{T as _t}from"./trending-down-5c2f744e.js";import{L as ke}from"./leaf-ac27f8f7.js";import{S as ae}from"./Slider-dc59af29.js";const wt=Xe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);var Et=["points","className","baseLinePoints","connectNulls"];function q(){return q=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},q.apply(this,arguments)}function Tt(t,e){if(t==null)return{};var r=St(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function St(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ne(t){return Ft(t)||Ct(t)||It(t)||Rt()}function Rt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function It(t,e){if(t){if(typeof t=="string")return pe(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pe(t,e)}}function Ct(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ft(t){if(Array.isArray(t))return pe(t)}function pe(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var _e=function(e){return e&&e.x===+e.x&&e.y===+e.y},Lt=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){_e(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),_e(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},J=function(e,r){var n=Lt(e);r&&(n=[n.reduce(function(i,s){return[].concat(Ne(i),Ne(s))},[])]);var a=n.map(function(i){return i.reduce(function(s,l,u){return"".concat(s).concat(u===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},$t=function(e,r,n){var a=J(e,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(J(r.reverse(),n).slice(1))},Dt=function(e){var r=e.points,n=e.className,a=e.baseLinePoints,i=e.connectNulls,s=Tt(e,Et);if(!r||!r.length)return null;var l=C("recharts-polygon",n);if(a&&a.length){var u=s.stroke&&s.stroke!=="none",c=$t(r,a,i);return f.createElement("g",{className:l},f.createElement("path",q({},A(s,!0),{fill:c.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:c})),u?f.createElement("path",q({},A(s,!0),{fill:"none",d:J(r,i)})):null,u?f.createElement("path",q({},A(s,!0),{fill:"none",d:J(a,i)})):null)}var m=J(r,i);return f.createElement("path",q({},A(s,!0),{fill:m.slice(-1)==="Z"?s.fill:"none",className:l,d:m}))},Bt=Me,Mt=lt,Kt=Ke;function Gt(t,e){return t&&t.length?Bt(t,Kt(e),Mt):void 0}var zt=Gt;const Vt=$e(zt);var qt=Me,Ht=Ke,Wt=ut;function Yt(t,e){return t&&t.length?qt(t,Ht(e),Wt):void 0}var Ut=Yt;const Zt=$e(Ut);var Qt=["cx","cy","angle","ticks","axisLine"],Jt=["ticks","tick","angle","tickFormatter","stroke"];function Y(t){"@babel/helpers - typeof";return Y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(t)}function X(){return X=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},X.apply(this,arguments)}function we(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function L(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?we(Object(r),!0).forEach(function(n){ue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):we(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ee(t,e){if(t==null)return{};var r=Xt(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Xt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function en(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Te(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,He(n.key),n)}}function tn(t,e,r){return e&&Te(t.prototype,e),r&&Te(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function nn(t,e,r){return e=oe(e),rn(t,qe()?Reflect.construct(e,r||[],oe(t).constructor):e.apply(t,r))}function rn(t,e){if(e&&(Y(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return an(t)}function an(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qe=function(){return!!t})()}function oe(t){return oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},oe(t)}function on(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ve(t,e)}function ve(t,e){return ve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ve(t,e)}function ue(t,e,r){return e=He(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function He(t){var e=sn(t,"string");return Y(e)=="symbol"?e:e+""}function sn(t,e){if(Y(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Y(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var de=function(t){function e(){return en(this,e),nn(this,e,arguments)}return on(e,t),tn(e,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,s=i.angle,l=i.cx,u=i.cy;return T(l,u,a,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,l=n.ticks,u=Vt(l,function(m){return m.coordinate||0}),c=Zt(l,function(m){return m.coordinate||0});return{cx:a,cy:i,startAngle:s,endAngle:s,innerRadius:c.coordinate||0,outerRadius:u.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,l=n.ticks,u=n.axisLine,c=Ee(n,Qt),m=l.reduce(function(p,d){return[Math.min(p[0],d.coordinate),Math.max(p[1],d.coordinate)]},[1/0,-1/0]),v=T(a,i,m[0],s),y=T(a,i,m[1],s),j=L(L(L({},A(c,!1)),{},{fill:"none"},A(u,!1)),{},{x1:v.x,y1:v.y,x2:y.x,y2:y.y});return f.createElement("line",X({className:"recharts-polar-radius-axis-line"},j))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,l=a.angle,u=a.tickFormatter,c=a.stroke,m=Ee(a,Jt),v=this.getTickTextAnchor(),y=A(m,!1),j=A(s,!1),p=i.map(function(d,g){var x=n.getTickValueCoord(d),b=L(L(L(L({textAnchor:v,transform:"rotate(".concat(90-l,", ").concat(x.x,", ").concat(x.y,")")},y),{},{stroke:"none",fill:c},j),{},{index:g},x),{},{payload:d});return f.createElement(N,X({className:C("recharts-polar-radius-axis-tick",Ge(s)),key:"tick-".concat(d.coordinate)},xe(n.props,d,g)),e.renderTickItem(s,b,u?u(d.value,g):d.value))});return f.createElement(N,{className:"recharts-polar-radius-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,s=n.tick;return!a||!a.length?null:f.createElement(N,{className:C("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),s&&this.renderTicks(),ze.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return f.isValidElement(n)?s=f.cloneElement(n,a):D(n)?s=n(a):s=f.createElement(ye,X({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),s}}])}(M.PureComponent);ue(de,"displayName","PolarRadiusAxis");ue(de,"axisType","radiusAxis");ue(de,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function U(t){"@babel/helpers - typeof";return U=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(t)}function B(){return B=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},B.apply(this,arguments)}function Se(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function $(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Se(Object(r),!0).forEach(function(n){fe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Se(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Re(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ye(n.key),n)}}function ln(t,e,r){return e&&Re(t.prototype,e),r&&Re(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function un(t,e,r){return e=se(e),dn(t,We()?Reflect.construct(e,r||[],se(t).constructor):e.apply(t,r))}function dn(t,e){if(e&&(U(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fn(t)}function fn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function We(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(We=function(){return!!t})()}function se(t){return se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},se(t)}function mn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&he(t,e)}function he(t,e){return he=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},he(t,e)}function fe(t,e,r){return e=Ye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ye(t){var e=pn(t,"string");return U(e)=="symbol"?e:e+""}function pn(t,e){if(U(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(U(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vn=Math.PI/180,Ie=1e-5,me=function(t){function e(){return cn(this,e),un(this,e,arguments)}return mn(e,t),ln(e,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,s=a.cy,l=a.radius,u=a.orientation,c=a.tickSize,m=c||8,v=T(i,s,l,n.coordinate),y=T(i,s,l+(u==="inner"?-1:1)*m,n.coordinate);return{x1:v.x,y1:v.y,x2:y.x,y2:y.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*vn),s;return i>Ie?s=a==="outer"?"start":"end":i<-Ie?s=a==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.radius,l=n.axisLine,u=n.axisLineType,c=$($({},A(this.props,!1)),{},{fill:"none"},A(l,!1));if(u==="circle")return f.createElement(dt,B({className:"recharts-polar-angle-axis-line"},c,{cx:a,cy:i,r:s}));var m=this.props.ticks,v=m.map(function(y){return T(a,i,s,y.coordinate)});return f.createElement(Dt,B({className:"recharts-polar-angle-axis-line"},c,{points:v}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,l=a.tickLine,u=a.tickFormatter,c=a.stroke,m=A(this.props,!1),v=A(s,!1),y=$($({},m),{},{fill:"none"},A(l,!1)),j=i.map(function(p,d){var g=n.getTickLineCoord(p),x=n.getTickTextAnchor(p),b=$($($({textAnchor:x},m),{},{stroke:"none",fill:c},v),{},{index:d,payload:p,x:g.x2,y:g.y2});return f.createElement(N,B({className:C("recharts-polar-angle-axis-tick",Ge(s)),key:"tick-".concat(p.coordinate)},xe(n.props,p,d)),l&&f.createElement("line",B({className:"recharts-polar-angle-axis-tick-line"},y,g)),s&&e.renderTickItem(s,b,u?u(p.value,d):p.value))});return f.createElement(N,{className:"recharts-polar-angle-axis-ticks"},j)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,s=n.axisLine;return i<=0||!a||!a.length?null:f.createElement(N,{className:C("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var s;return f.isValidElement(n)?s=f.cloneElement(n,a):D(n)?s=n(a):s=f.createElement(ye,B({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),s}}])}(M.PureComponent);fe(me,"displayName","PolarAngleAxis");fe(me,"axisType","angleAxis");fe(me,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var ie;function Z(t){"@babel/helpers - typeof";return Z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(t)}function H(){return H=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},H.apply(this,arguments)}function Ce(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function h(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ce(Object(r),!0).forEach(function(n){P(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ce(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ze(n.key),n)}}function gn(t,e,r){return e&&Fe(t.prototype,e),r&&Fe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function yn(t,e,r){return e=ce(e),xn(t,Ue()?Reflect.construct(e,r||[],ce(t).constructor):e.apply(t,r))}function xn(t,e){if(e&&(Z(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bn(t)}function bn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ue(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ue=function(){return!!t})()}function ce(t){return ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ce(t)}function An(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ge(t,e)}function ge(t,e){return ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ge(t,e)}function P(t,e,r){return e=Ze(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ze(t){var e=jn(t,"string");return Z(e)=="symbol"?e:e+""}function jn(t,e){if(Z(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Z(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var S=function(t){function e(r){var n;return hn(this,e),n=yn(this,e,[r]),P(n,"pieRef",null),P(n,"sectorRefs",[]),P(n,"id",At("recharts-pie-")),P(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),D(a)&&a()}),P(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),D(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return An(e,t),gn(e,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.label,l=i.labelLine,u=i.dataKey,c=i.valueKey,m=A(this.props,!1),v=A(s,!1),y=A(l,!1),j=s&&s.offsetRadius||20,p=n.map(function(d,g){var x=(d.startAngle+d.endAngle)/2,b=T(d.cx,d.cy,d.outerRadius+j,x),k=h(h(h(h({},m),d),{},{stroke:"none"},v),{},{index:g,textAnchor:e.getTextAnchor(b.x,d.cx)},b),K=h(h(h(h({},m),d),{},{fill:"none",stroke:d.fill},y),{},{index:g,points:[T(d.cx,d.cy,d.outerRadius,x),b]}),_=u;return W(u)&&W(c)?_="value":W(u)&&(_=c),f.createElement(N,{key:"label-".concat(d.startAngle,"-").concat(d.endAngle,"-").concat(d.midAngle,"-").concat(g)},l&&e.renderLabelLineItem(l,K,"line"),e.renderLabelItem(s,k,z(d,_)))});return f.createElement(N,{className:"recharts-pie-labels"},p)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,s=i.activeShape,l=i.blendStroke,u=i.inactiveShape;return n.map(function(c,m){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&n.length!==1)return null;var v=a.isActiveIndex(m),y=u&&a.hasActiveIndex()?u:null,j=v?s:y,p=h(h({},c),{},{stroke:l?c.fill:c.stroke,tabIndex:-1});return f.createElement(N,H({ref:function(g){g&&!a.sectorRefs.includes(g)&&a.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},xe(a.props,c,m),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(m)}),f.createElement(mt,H({option:j,isActive:v,shapeType:"sector"},p)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,s=a.isAnimationActive,l=a.animationBegin,u=a.animationDuration,c=a.animationEasing,m=a.animationId,v=this.state,y=v.prevSectors,j=v.prevIsAnimationActive;return f.createElement(pt,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(m,"-").concat(j),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(p){var d=p.t,g=[],x=i&&i[0],b=x.startAngle;return i.forEach(function(k,K){var _=y&&y[K],F=K>0?vt(k,"paddingAngle",0):0;if(_){var Q=Oe(_.endAngle-_.startAngle,k.endAngle-k.startAngle),O=h(h({},k),{},{startAngle:b+F,endAngle:b+Q(d)+F});g.push(O),b=O.endAngle}else{var G=k.endAngle,w=k.startAngle,ee=Oe(0,G-w),te=ee(d),R=h(h({},k),{},{startAngle:b+F,endAngle:b+te+F});g.push(R),b=R.endAngle}}),f.createElement(N,null,n.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var s=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,s=this.state.prevSectors;return i&&a&&a.length&&(!s||!ht(s,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,s=a.sectors,l=a.className,u=a.label,c=a.cx,m=a.cy,v=a.innerRadius,y=a.outerRadius,j=a.isAnimationActive,p=this.state.isAnimationFinished;if(i||!s||!s.length||!V(c)||!V(m)||!V(v)||!V(y))return null;var d=C("recharts-pie",l);return f.createElement(N,{tabIndex:this.props.rootTabIndex,className:d,ref:function(x){n.pieRef=x}},this.renderSectors(),u&&this.renderLabels(s),ze.renderCallByParent(this.props,null,!1),(!j||p)&&gt.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(f.isValidElement(n))return f.cloneElement(n,a);if(D(n))return n(a);var s=C("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return f.createElement(ft,H({},a,{key:i,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,a,i){if(f.isValidElement(n))return f.cloneElement(n,a);var s=i;if(D(n)&&(s=n(a),f.isValidElement(s)))return s;var l=C("recharts-pie-label-text",typeof n!="boolean"&&!D(n)?n.className:"");return f.createElement(ye,H({},a,{alignmentBaseline:"middle",className:l}),s)}}])}(M.PureComponent);ie=S;P(S,"displayName","Pie");P(S,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!yt.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});P(S,"parseDeltaAngle",function(t,e){var r=re(e-t),n=Math.min(Math.abs(e-t),360);return r*n});P(S,"getRealPieData",function(t){var e=t.data,r=t.children,n=A(t,!1),a=xt(r,Ve);return e&&e.length?e.map(function(i,s){return h(h(h({payload:i},n),i),a&&a[s]&&a[s].props)}):a&&a.length?a.map(function(i){return h(h({},n),i.props)}):[]});P(S,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,a=e.width,i=e.height,s=bt(a,i),l=n+ne(t.cx,a,a/2),u=r+ne(t.cy,i,i/2),c=ne(t.innerRadius,s,0),m=ne(t.outerRadius,s,s*.8),v=t.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:u,innerRadius:c,outerRadius:m,maxRadius:v}});P(S,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?h(h({},e.type.defaultProps),e.props):e.props,a=ie.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,s=n.startAngle,l=n.endAngle,u=n.paddingAngle,c=n.dataKey,m=n.nameKey,v=n.valueKey,y=n.tooltipType,j=Math.abs(n.minAngle),p=ie.parseCoordinateOfPie(n,r),d=ie.parseDeltaAngle(s,l),g=Math.abs(d),x=c;W(c)&&W(v)?(Pe(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):W(c)&&(Pe(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=v);var b=a.filter(function(O){return z(O,x,0)!==0}).length,k=(g>=360?b:b-1)*u,K=g-b*j-k,_=a.reduce(function(O,G){var w=z(G,x,0);return O+(V(w)?w:0)},0),F;if(_>0){var Q;F=a.map(function(O,G){var w=z(O,x,0),ee=z(O,m,G),te=(V(w)?w:0)/_,R;G?R=Q.endAngle+re(d)*u*(w!==0?1:0):R=s;var be=R+re(d)*((w!==0?j:0)+te*K),Ae=(R+be)/2,je=(p.innerRadius+p.outerRadius)/2,Qe=[{name:ee,value:w,payload:O,dataKey:x,type:y}],Je=T(p.cx,p.cy,je,Ae);return Q=h(h(h({percent:te,cornerRadius:i,name:ee,tooltipPayload:Qe,midAngle:Ae,middleRadius:je,tooltipPosition:Je},O),p),{},{value:z(O,x),startAngle:R,endAngle:be,payload:O,paddingAngle:re(d)*u}),Q})}return h(h({},p),{},{sectors:F,data:a})});var On=jt({chartName:"PieChart",GraphicalChild:S,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:me},{axisType:"radiusAxis",AxisComp:de}],formatAxisMap:Ot,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Le=1500,Pn=["#3B82F6","#10B981","#F59E0B","#8B5CF6"],kn=()=>{const{costBreakdown:t,totalAnnualCost:e}=le(),r=t.map((a,i)=>({name:a.name,value:a.value,amount:a.amount,color:Pn[i]})),n=({active:a,payload:i})=>a&&i&&i.length?o.jsxs("div",{className:"bg-white p-2 shadow-lg rounded border border-gray-200",children:[o.jsx("p",{className:"text-sm font-semibold",children:i[0].name}),o.jsxs("p",{className:"text-sm",children:["£",i[0].payload.amount.toFixed(0)," (",i[0].value,"%)"]})]}):null;return o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Cost Breakdown (£/cow/year)"}),o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"w-48 h-48 relative mr-6",children:[o.jsx(Pt,{width:"100%",height:"100%",children:o.jsxs(On,{children:[o.jsx(S,{data:r,cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,paddingAngle:2,dataKey:"value",isAnimationActive:Le>0,animationDuration:Le,children:r.map((a,i)=>o.jsx(Ve,{fill:a.color},`cell-${i}`))}),o.jsx(kt,{content:o.jsx(n,{})})]})}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-xs text-gray-500",children:"Total Cost"}),o.jsxs("div",{className:"text-xl font-bold",children:["£",e.toFixed(0)]})]})})]}),o.jsx("div",{className:"flex-1 space-y-2",children:r.map((a,i)=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:a.color}}),o.jsx("span",{className:"text-sm text-gray-700",children:a.name})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:["£",a.amount.toFixed(0)]}),o.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",a.value,"%)"]})]})]},i))})]})]})},I=({title:t,value:e,unit:r="",subtitle:n,icon:a,iconColor:i="text-gray-600",valueColor:s="text-gray-900",bgColor:l="bg-gray-50"})=>o.jsxs("div",{className:`${l} p-4 rounded-lg`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-sm text-gray-600",children:t}),a&&o.jsx(a,{className:i,size:16})]}),o.jsxs("div",{className:`text-xl font-bold ${s}`,children:[e,r&&o.jsx("span",{className:"text-sm font-normal ml-1",children:r})]}),n&&o.jsx("div",{className:"text-xs text-gray-500 mt-1",children:n})]}),Nn=()=>{const{performanceMetrics:t,emissions:e}=le();return o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Performance Metrics"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(I,{title:"Emissions",value:t.emissions.toFixed(2),unit:"kg CO₂e/L",icon:t.emissions>E.EMISSIONS_TARGET?et:_t,iconColor:t.emissions>E.EMISSIONS_TARGET?"text-red-500":"text-green-500",valueColor:t.emissions>E.EMISSIONS_TARGET?"text-red-600":"text-green-600",bgColor:"bg-gray-50"}),o.jsx(I,{title:"Feed Efficiency",value:t.feedEfficiency.toFixed(2),unit:"L/kg",icon:De,iconColor:t.feedEfficiency>=E.FEED_EFFICIENCY_TARGET?"text-green-500":"text-blue-500",valueColor:t.feedEfficiency>=E.FEED_EFFICIENCY_TARGET?"text-green-600":"text-blue-600",bgColor:"bg-gray-50"}),o.jsx(I,{title:"Protein Efficiency",value:t.proteinEfficiency.toFixed(1),unit:"%",icon:ke,iconColor:t.proteinEfficiency>=E.PROTEIN_EFFICIENCY_TARGET?"text-green-500":"text-yellow-500",valueColor:t.proteinEfficiency>=E.PROTEIN_EFFICIENCY_TARGET?"text-green-600":"text-yellow-600",bgColor:"bg-gray-50"}),o.jsx(I,{title:"N Efficiency",value:t.nitrogenEfficiency.toFixed(1),unit:"%",icon:ke,iconColor:t.nitrogenEfficiency>=E.NITROGEN_EFFICIENCY_TARGET?"text-green-500":"text-yellow-500",valueColor:t.nitrogenEfficiency>=E.NITROGEN_EFFICIENCY_TARGET?"text-green-600":"text-yellow-600",bgColor:"bg-gray-50"})]})]})},_n=()=>{const{parameters:t,totalFarmEmissions:e,netFarmEmissions:r,totalFarmProduction:n,totalFarmProfit:a,sequestration:i,emissionsIntensity:s}=le(),l=tt(t.herdSize)/1e3,u=nt(e,t.herdSize),c=rt(u);return o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[o.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[o.jsx(De,{className:"mr-2",size:18}),"Total Farm Impact (",t.herdSize," cows)"]}),o.jsxs("div",{className:`${c.color.replace("text-","bg-").replace("700","50")} rounded-lg p-3 mb-4`,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Nt,{size:16,className:c.color}),o.jsxs("span",{className:`text-sm font-medium ${c.color}`,children:[u.toFixed(0),"% above Theoretical Minimum"]})]}),o.jsx("span",{className:`text-xs ${c.color}`,children:c.category})]}),o.jsxs("div",{className:"mt-1 text-xs text-gray-600",children:["Biological floor: ",l.toFixed(0),"t CO₂e/year • Gap: ",(e-l).toFixed(0),"t"]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(I,{title:"Gross Emissions",value:e.toFixed(0),unit:"t CO₂e/year",subtitle:`${(e/t.herdSize).toFixed(1)} t/cow`,bgColor:"bg-red-50",valueColor:"text-red-600"}),o.jsx(I,{title:"Net Emissions",value:r.toFixed(0),unit:"t CO₂e/year",subtitle:`${i.totalSequestration.toFixed(0)} t sequestered`,bgColor:"bg-green-50",valueColor:r>0?"text-orange-600":"text-green-600"}),o.jsx(I,{title:"Total Production",value:n.toFixed(0),unit:"k L/year",subtitle:`${t.milkYield.toLocaleString()} L/cow`,bgColor:"bg-blue-50",valueColor:"text-blue-600"}),o.jsx(I,{title:"Est. Annual Profit",value:`£${(a/1e3).toFixed(0)}k`,subtitle:`£${(a/t.herdSize).toFixed(0)}/cow`,bgColor:"bg-yellow-50",valueColor:a>0?"text-green-600":"text-red-600"})]}),o.jsxs("div",{className:"mt-4 pt-4 border-t text-sm text-gray-600 flex justify-between",children:[o.jsxs("span",{children:["Carbon intensity: ",o.jsxs("strong",{children:[s.toFixed(2)," kg CO₂e/L"]})]}),o.jsxs("span",{children:["Net intensity: ",o.jsxs("strong",{children:[(r/n).toFixed(3)," kg CO₂e/L"]})]})]})]})},wn=()=>{const{emissionsIntensity:t}=le(),{loanAmount:e,loanTerm:r,updateLoanParameter:n}=Be(),a=M.useMemo(()=>at(t,e),[t,e]),i=M.useMemo(()=>it(a,e),[a,e]),s=M.useMemo(()=>ot(e,i,r),[e,i,r]),l=M.useMemo(()=>st(s,r),[s,r]);return o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Financing Options"}),o.jsxs("div",{className:"mb-4 space-y-1",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-sm text-gray-600 mr-2",children:"Risk Score:"}),o.jsx(ct,{score:a})]}),o.jsxs("div",{className:"text-xs text-gray-500",children:["Loan tier: ",e<1e6?"< £1m":e<5e6?"£1-5m":"> £5m"]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"loan-amount",className:"block text-sm font-medium text-gray-700 mb-2",children:"Loan Amount (£)"}),o.jsx("input",{id:"loan-amount",name:"loan-amount",type:"number",value:e,onChange:u=>n("loanAmount",Number(u.target.value)),step:5e4,min:1e5,max:1e7,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsx(ae,{label:"Term (years)",value:r,onChange:u=>n("loanTerm",u),min:1,max:25,step:1,decimals:0,showValue:!0})]}),o.jsxs("div",{className:"mt-6 space-y-3 pt-4 border-t border-gray-200",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Interest Rate:"}),o.jsxs("span",{className:"text-sm font-semibold",children:[(i*100).toFixed(1),"%"]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Monthly Repayment:"}),o.jsxs("span",{className:"text-lg font-bold text-blue-600",children:["£",s.toLocaleString("en-GB",{maximumFractionDigits:0})]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Total Repaid:"}),o.jsxs("span",{className:"text-lg font-bold text-gray-800",children:["£",l.toLocaleString("en-GB",{maximumFractionDigits:0})]})]})]}),o.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:o.jsxs("a",{href:`mailto:relationship.manager@bank.com?subject=GHG%20Loan%20Inquiry%20-%20Risk%20Score%3A%20${a}`,className:"w-full text-center bg-indigo-600 text-white px-4 py-3 rounded-md hover:bg-indigo-700 transition-colors flex items-center justify-center",children:[o.jsx(wt,{className:"mr-2",size:18}),"Click here to speak to your Relationship Manager"]})})]})},En=()=>{const{parameters:t,updateParameter:e}=Be();return o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Feed Parameters"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(ae,{label:"Feed Quality",value:t.feedQuality,onChange:r=>e("feedQuality",r),min:1,max:10,step:1,unit:"",decimals:0,info:"Higher quality feed improves efficiency"}),o.jsx(ae,{label:"Concentrate Feed",value:t.concentrateFeed,onChange:r=>e("concentrateFeed",r),min:0,max:12,step:.5,unit:" kg/day",decimals:1}),o.jsx(ae,{label:"Feed Carbon Footprint",value:t.feedCarbonFootprint,onChange:r=>e("feedCarbonFootprint",r),min:.3,max:2,step:.1,unit:" kg CO₂e/kg",decimals:1})]})]})},Fn=({state:t,actions:e})=>o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx("div",{className:"col-span-1 lg:col-span-2",children:o.jsx(wn,{})}),o.jsx("div",{className:"col-span-1 lg:col-span-2",children:o.jsx(En,{})}),o.jsx(kn,{}),o.jsx(Nn,{}),o.jsx("div",{className:"col-span-1 lg:col-span-2",children:o.jsx(_n,{})})]})});export{Fn as default};
