import{a as e,f as s,x as t,w as a,j as l}from"./index-294fea26.js";import{r as n}from"./react-vendor-3e9c946d.js";import"./state-15ddd646.js";import"./ui-vendor-fd39ecb8.js";const i=({pathway:i})=>{const r=e(e=>e.parameters),d=e(e=>e.loanAmount),c=n.useMemo(()=>i||s(r),[i,r]),o=n.useMemo(()=>r.milkYield*r.herdSize*.35,[r.milkYield,r.herdSize]),x=n.useMemo(()=>c.totalPotentialReduction/c.currentEmissions*100,[c]),m=n.useMemo(()=>t(o,d,720,x),[o,d,x]),h=n.useMemo(()=>a(c,720,d),[c,d]),p=e=>`$${e.toLocaleString()}`,g=e=>`${(100*e).toFixed(1)}%`;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Financing Eligibility"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"bg-green-50 p-4 rounded",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Max Loan Amount"}),l.jsx("p",{className:"text-xl font-bold text-green-900",children:p(m.maxLoanAmount)})]}),l.jsxs("div",{className:"bg-blue-50 p-4 rounded",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Annual Revenue"}),l.jsx("p",{className:"text-xl font-bold text-blue-900",children:p(o)})]}),l.jsxs("div",{className:"bg-purple-50 p-4 rounded",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Debt Service Ratio"}),l.jsx("p",{className:"text-xl font-bold text-purple-900",children:g(m.debtServiceRatio)})]}),l.jsxs("div",{className:"bg-yellow-50 p-4 rounded",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Green Bonus Rate"}),l.jsx("p",{className:"text-xl font-bold text-yellow-900",children:g(m.greenBonus)})]})]})]}),l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recommended Financing Package"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-3xl font-bold text-gray-900",children:p(h.totalInvestment)}),l.jsx("p",{className:"text-sm text-gray-600",children:"Total Investment Needed"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-3xl font-bold text-blue-600",children:p(h.totalMonthlyCost)}),l.jsx("p",{className:"text-sm text-gray-600",children:"Monthly Payment"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[h.paybackPeriod.toFixed(1)," years"]}),l.jsx("p",{className:"text-sm text-gray-600",children:"Payback Period"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-4 border-t",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Financing Cost"}),l.jsx("p",{className:"font-semibold",children:p(h.totalFinancingCost)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Net Present Value"}),l.jsx("p",{className:"font-semibold "+(h.netPresentValue>0?"text-green-600":"text-red-600"),children:p(h.netPresentValue)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Internal Rate of Return"}),l.jsx("p",{className:"font-semibold",children:g(h.internalRateOfReturn)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Carbon Cost Effectiveness"}),l.jsxs("p",{className:"font-semibold",children:["$",h.carbonCostEffectiveness.toFixed(2),"/kg CO₂e"]})]})]})]}),l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Financing Sources"}),l.jsx("div",{className:"space-y-4",children:h.financingOptions.map((e,s)=>l.jsxs("div",{className:"border rounded-lg p-4",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold",children:e.option.name}),l.jsx("p",{className:"text-sm text-gray-600",children:e.option.description})]}),l.jsx("span",{className:"px-2 py-1 text-xs rounded "+("grant"===e.option.type?"bg-green-100 text-green-800":"loan"===e.option.type?"bg-blue-100 text-blue-800":"carbon-credit"===e.option.type?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"),children:e.option.type})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-3 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Amount:"}),l.jsx("span",{className:"ml-1 font-semibold",children:p(e.amount)})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Monthly:"}),l.jsx("span",{className:"ml-1 font-semibold",children:p(e.monthlyCost)})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Rate:"}),l.jsx("span",{className:"ml-1 font-semibold",children:g(e.option.interestRate-e.option.greenDiscount)})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Term:"}),l.jsxs("span",{className:"ml-1 font-semibold",children:[e.option.term," years"]})]})]}),l.jsx("div",{className:"mt-2 text-sm text-gray-600",children:l.jsxs("span",{className:"text-green-600 font-semibold",children:[e.carbonBenefit.toFixed(0)," kg CO₂e reduction funded"]})})]},s))})]}),l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"All Available Green Financing Options"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:m.eligibleOptions.map(e=>l.jsxs("div",{className:"border rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold",children:e.name}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.description}),l.jsxs("div",{className:"mt-3 space-y-1 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Max Amount:"}),l.jsx("span",{className:"font-semibold",children:p(e.maxAmount)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Interest Rate:"}),l.jsx("span",{className:"font-semibold",children:g(e.interestRate)})]}),e.greenDiscount>0&&l.jsxs("div",{className:"flex justify-between text-green-600",children:[l.jsx("span",{children:"Green Discount:"}),l.jsxs("span",{className:"font-semibold",children:["-",g(e.greenDiscount)]})]})]}),l.jsxs("div",{className:"mt-3",children:[l.jsx("p",{className:"text-xs text-gray-600 font-semibold",children:"Requirements:"}),l.jsx("ul",{className:"text-xs text-gray-600 mt-1",children:e.requirements.map((e,s)=>l.jsxs("li",{className:"ml-2",children:["• ",e]},s))})]})]},e.id))})]}),l.jsxs("div",{className:"bg-green-50 p-6 rounded-lg",children:[l.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-2",children:"Ready to Get Started?"}),l.jsxs("p",{className:"text-green-800 mb-4",children:["Your farm qualifies for multiple green financing options that can help you achieve a ",x.toFixed(1),"% reduction in emissions while improving profitability."]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("button",{className:"bg-green-600 text-white px-6 py-2 rounded hover:bg-green-700",children:"Download Financing Report"}),l.jsx("button",{className:"bg-white text-green-600 border border-green-600 px-6 py-2 rounded hover:bg-green-50",children:"Schedule Consultation"})]})]})]})},r=({state:t,actions:a})=>{const r=e(e=>e.parameters),d=n.useMemo(()=>s(r),[r]),c=d.totalCost,o=d.totalPotentialReduction/d.currentEmissions*100,x=c/(25*d.totalPotentialReduction);return l.jsxs("div",{className:"p-6",children:[l.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Green Financing Options"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[l.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 text-white p-4 rounded-lg",children:[l.jsx("p",{className:"text-sm opacity-90",children:"Total Investment"}),l.jsxs("p",{className:"text-2xl font-bold",children:["$",c.toLocaleString()]}),l.jsx("p",{className:"text-xs opacity-80 mt-1",children:"For all measures"})]}),l.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white p-4 rounded-lg",children:[l.jsx("p",{className:"text-sm opacity-90",children:"Emissions Reduction"}),l.jsxs("p",{className:"text-2xl font-bold",children:[o.toFixed(1),"%"]}),l.jsx("p",{className:"text-xs opacity-80 mt-1",children:"From current levels"})]}),l.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 text-white p-4 rounded-lg",children:[l.jsx("p",{className:"text-sm opacity-90",children:"Simple Payback"}),l.jsxs("p",{className:"text-2xl font-bold",children:[x.toFixed(1)," years"]}),l.jsx("p",{className:"text-xs opacity-80 mt-1",children:"From carbon credits"})]}),l.jsxs("div",{className:"bg-gradient-to-br from-yellow-500 to-yellow-600 text-white p-4 rounded-lg",children:[l.jsx("p",{className:"text-sm opacity-90",children:"Available Measures"}),l.jsx("p",{className:"text-2xl font-bold",children:d.measures.length}),l.jsx("p",{className:"text-xs opacity-80 mt-1",children:"Reduction options"})]})]}),l.jsx(i,{pathway:d})]})};export{r as default};
