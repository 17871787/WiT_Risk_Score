import{c as Be,R as b,r as _,b as ce,u as de,j as i,s as Ge}from"./index-d6534032.js";import{S as W}from"./Slider-1e252996.js";import{t as De}from"./carbonFloor-62ea8a2f.js";import{E as We,o as C,G as Ye,F as ee,u as He,i as E,c as M,T as Ve,H as te,f as F,l as pe,L as ye,e as Ke,h as Xe,J as ue,K as he,M as Ue,N as Ze,O as Je,w as ge,P as Ce,Q as Z,U as Qe,V as et,y as tt,W as _e,X as rt,I as it,R as nt,B as at,x as st}from"./generateCategoricalChart-b8e30584.js";import{c as ot,a as lt,b as ct}from"./reductionPathway-e8d6cb38.js";const dt=Be("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);function Te(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],a=0;a<e.length;a+=t)if(n===void 0||n(e[a])===!0)r.push(e[a]);else return;return r}function ut(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return We(r,n)}function ht(e,t,n){var r=n==="width",a=e.x,o=e.y,s=e.width,d=e.height;return t===1?{start:r?a:o,end:r?a+s:o+d}:{start:r?a+s:o+d,end:r?a:o}}function V(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-a)<=0}function ft(e,t){return Te(e,t+1)}function mt(e,t,n,r,a){for(var o=(r||[]).slice(),s=t.start,d=t.end,u=0,h=1,l=s,p=function(){var c=r==null?void 0:r[u];if(c===void 0)return{v:Te(r,h)};var m=u,y,j=function(){return y===void 0&&(y=n(c,m)),y},v=c.coordinate,g=u===0||V(e,v,j,l,d);g||(u=0,l=s,h+=1),g&&(l=v+e*(j()/2+a),u+=h)},f;h<=o.length;)if(f=p(),f)return f.v;return[]}function Y(e){"@babel/helpers - typeof";return Y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y(e)}function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ve(Object(n),!0).forEach(function(r){xt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xt(e,t,n){return t=pt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pt(e){var t=yt(e,"string");return Y(t)=="symbol"?t:t+""}function yt(e,t){if(Y(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Y(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gt(e,t,n,r,a){for(var o=(r||[]).slice(),s=o.length,d=t.start,u=t.end,h=function(f){var x=o[f],c,m=function(){return c===void 0&&(c=n(x,f)),c};if(f===s-1){var y=e*(x.coordinate+e*m()/2-u);o[f]=x=k(k({},x),{},{tickCoord:y>0?x.coordinate-y*e:x.coordinate})}else o[f]=x=k(k({},x),{},{tickCoord:x.coordinate});var j=V(e,x.tickCoord,m,d,u);j&&(u=x.tickCoord-e*(m()/2+a),o[f]=k(k({},x),{},{isShow:!0}))},l=s-1;l>=0;l--)h(l);return o}function vt(e,t,n,r,a,o){var s=(r||[]).slice(),d=s.length,u=t.start,h=t.end;if(o){var l=r[d-1],p=n(l,d-1),f=e*(l.coordinate+e*p/2-h);s[d-1]=l=k(k({},l),{},{tickCoord:f>0?l.coordinate-f*e:l.coordinate});var x=V(e,l.tickCoord,function(){return p},u,h);x&&(h=l.tickCoord-e*(p/2+a),s[d-1]=k(k({},l),{},{isShow:!0}))}for(var c=o?d-1:d,m=function(v){var g=s[v],w,O=function(){return w===void 0&&(w=n(g,v)),w};if(v===0){var S=e*(g.coordinate-e*O()/2-u);s[v]=g=k(k({},g),{},{tickCoord:S<0?g.coordinate-S*e:g.coordinate})}else s[v]=g=k(k({},g),{},{tickCoord:g.coordinate});var T=V(e,g.tickCoord,O,u,h);T&&(u=g.tickCoord+e*(O()/2+a),s[v]=k(k({},g),{},{isShow:!0}))},y=0;y<c;y++)m(y);return s}function fe(e,t,n){var r=e.tick,a=e.ticks,o=e.viewBox,s=e.minTickGap,d=e.orientation,u=e.interval,h=e.tickFormatter,l=e.unit,p=e.angle;if(!a||!a.length||!r)return[];if(C(u)||Ye.isSsr)return ft(a,typeof u=="number"&&C(u)?u:0);var f=[],x=d==="top"||d==="bottom"?"width":"height",c=l&&x==="width"?ee(l,{fontSize:t,letterSpacing:n}):{width:0,height:0},m=function(g,w){var O=E(h)?h(g.value,w):g.value;return x==="width"?ut(ee(O,{fontSize:t,letterSpacing:n}),c,p):ee(O,{fontSize:t,letterSpacing:n})[x]},y=a.length>=2?He(a[1].coordinate-a[0].coordinate):1,j=ht(o,y,x);return u==="equidistantPreserveStart"?mt(y,j,m,a,s):(u==="preserveStart"||u==="preserveStartEnd"?f=vt(y,j,m,a,s,u==="preserveStartEnd"):f=gt(y,j,m,a,s),f.filter(function(v){return v.isShow}))}var bt=["viewBox"],jt=["viewBox"],wt=["ticks"];function q(e){"@babel/helpers - typeof";return q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(e)}function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I.apply(this,arguments)}function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?be(Object(n),!0).forEach(function(r){me(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function re(e,t){if(e==null)return{};var n=Nt(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Nt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Ot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ee(r.key),r)}}function kt(e,t,n){return t&&je(e.prototype,t),n&&je(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pt(e,t,n){return t=K(t),St(e,Ae()?Reflect.construct(t,n||[],K(e).constructor):t.apply(e,n))}function St(e,t){if(t&&(q(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ct(e)}function Ct(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ae=function(){return!!e})()}function K(e){return K=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},K(e)}function _t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ne(e,t)}function ne(e,t){return ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},ne(e,t)}function me(e,t,n){return t=Ee(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ee(e){var t=Tt(e,"string");return q(t)=="symbol"?t:t+""}function Tt(e,t){if(q(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(q(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G=function(e){function t(n){var r;return Ot(this,t),r=Pt(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return _t(t,e),kt(t,[{key:"shouldComponentUpdate",value:function(r,a){var o=r.viewBox,s=re(r,bt),d=this.props,u=d.viewBox,h=re(d,jt);return!te(o,u)||!te(s,h)||!te(a,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var a=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var a=this.props,o=a.x,s=a.y,d=a.width,u=a.height,h=a.orientation,l=a.tickSize,p=a.mirror,f=a.tickMargin,x,c,m,y,j,v,g=p?-1:1,w=r.tickSize||l,O=C(r.tickCoord)?r.tickCoord:r.coordinate;switch(h){case"top":x=c=r.coordinate,y=s+ +!p*u,m=y-g*w,v=m-g*f,j=O;break;case"left":m=y=r.coordinate,c=o+ +!p*d,x=c-g*w,j=x-g*f,v=O;break;case"right":m=y=r.coordinate,c=o+ +p*d,x=c+g*w,j=x+g*f,v=O;break;default:x=c=r.coordinate,y=s+ +p*u,m=y+g*w,v=m+g*f,j=O;break}return{line:{x1:x,y1:m,x2:c,y2:y},tick:{x:j,y:v}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,a=r.orientation,o=r.mirror,s;switch(a){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,a=r.orientation,o=r.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.x,o=r.y,s=r.width,d=r.height,u=r.orientation,h=r.mirror,l=r.axisLine,p=N(N(N({},F(this.props,!1)),F(l,!1)),{},{fill:"none"});if(u==="top"||u==="bottom"){var f=+(u==="top"&&!h||u==="bottom"&&h);p=N(N({},p),{},{x1:a,y1:o+f*d,x2:a+s,y2:o+f*d})}else{var x=+(u==="left"&&!h||u==="right"&&h);p=N(N({},p),{},{x1:a+x*s,y1:o,x2:a+x*s,y2:o+d})}return b.createElement("line",I({},p,{className:M("recharts-cartesian-axis-line",pe(l,"className"))}))}},{key:"renderTicks",value:function(r,a,o){var s=this,d=this.props,u=d.tickLine,h=d.stroke,l=d.tick,p=d.tickFormatter,f=d.unit,x=fe(N(N({},this.props),{},{ticks:r}),a,o),c=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),y=F(this.props,!1),j=F(l,!1),v=N(N({},y),{},{fill:"none"},F(u,!1)),g=x.map(function(w,O){var S=s.getTickLineCoord(w),T=S.line,D=S.tick,z=N(N(N(N({textAnchor:c,verticalAnchor:m},y),{},{stroke:"none",fill:h},j),D),{},{index:O,payload:w,visibleTicksCount:x.length,tickFormatter:p});return b.createElement(ye,I({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},Ke(s.props,w,O)),u&&b.createElement("line",I({},v,T,{className:M("recharts-cartesian-axis-tick-line",pe(u,"className"))})),l&&t.renderTickItem(l,z,"".concat(E(p)?p(w.value,O):w.value).concat(f||"")))});return b.createElement("g",{className:"recharts-cartesian-axis-ticks"},g)}},{key:"render",value:function(){var r=this,a=this.props,o=a.axisLine,s=a.width,d=a.height,u=a.ticksGenerator,h=a.className,l=a.hide;if(l)return null;var p=this.props,f=p.ticks,x=re(p,wt),c=f;return E(u)&&(c=f&&f.length>0?u(this.props):u(x)),s<=0||d<=0||!c||!c.length?null:b.createElement(ye,{className:M("recharts-cartesian-axis",h),ref:function(y){r.layerReference=y}},o&&this.renderAxisLine(),this.renderTicks(c,this.state.fontSize,this.state.letterSpacing),Xe.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,a,o){var s,d=M(a.className,"recharts-cartesian-axis-tick-value");return b.isValidElement(r)?s=b.cloneElement(r,N(N({},a),{},{className:d})):E(r)?s=r(N(N({},a),{},{className:d})):s=b.createElement(Ve,I({},a,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])}(_.Component);me(G,"displayName","CartesianAxis");me(G,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var At=["x1","y1","x2","y2","key"],Et=["offset"];function $(e){"@babel/helpers - typeof";return $=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$(e)}function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?we(Object(n),!0).forEach(function(r){$t(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $t(e,t,n){return t=zt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zt(e){var t=Rt(e,"string");return $(t)=="symbol"?t:t+""}function Rt(e,t){if($(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if($(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A.apply(this,arguments)}function Ne(e,t){if(e==null)return{};var n=Ft(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ft(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Mt=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,a=t.x,o=t.y,s=t.width,d=t.height,u=t.ry;return b.createElement("rect",{x:a,y:o,ry:u,width:s,height:d,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function $e(e,t){var n;if(b.isValidElement(e))n=b.cloneElement(e,t);else if(E(e))n=e(t);else{var r=t.x1,a=t.y1,o=t.x2,s=t.y2,d=t.key,u=Ne(t,At),h=F(u,!1);h.offset;var l=Ne(h,Et);n=b.createElement("line",A({},l,{x1:r,y1:a,x2:o,y2:s,fill:"none",key:d}))}return n}function It(e){var t=e.x,n=e.width,r=e.horizontal,a=r===void 0?!0:r,o=e.horizontalPoints;if(!a||!o||!o.length)return null;var s=o.map(function(d,u){var h=P(P({},e),{},{x1:t,y1:d,x2:t+n,y2:d,key:"line-".concat(u),index:u});return $e(a,h)});return b.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function qt(e){var t=e.y,n=e.height,r=e.vertical,a=r===void 0?!0:r,o=e.verticalPoints;if(!a||!o||!o.length)return null;var s=o.map(function(d,u){var h=P(P({},e),{},{x1:d,y1:t,x2:d,y2:t+n,key:"line-".concat(u),index:u});return $e(a,h)});return b.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function Lt(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,a=e.y,o=e.width,s=e.height,d=e.horizontalPoints,u=e.horizontal,h=u===void 0?!0:u;if(!h||!t||!t.length)return null;var l=d.map(function(f){return Math.round(f+a-a)}).sort(function(f,x){return f-x});a!==l[0]&&l.unshift(0);var p=l.map(function(f,x){var c=!l[x+1],m=c?a+s-f:l[x+1]-f;if(m<=0)return null;var y=x%t.length;return b.createElement("rect",{key:"react-".concat(x),y:f,x:r,height:m,width:o,stroke:"none",fill:t[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function Bt(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,a=e.fillOpacity,o=e.x,s=e.y,d=e.width,u=e.height,h=e.verticalPoints;if(!n||!r||!r.length)return null;var l=h.map(function(f){return Math.round(f+o-o)}).sort(function(f,x){return f-x});o!==l[0]&&l.unshift(0);var p=l.map(function(f,x){var c=!l[x+1],m=c?o+d-f:l[x+1]-f;if(m<=0)return null;var y=x%r.length;return b.createElement("rect",{key:"react-".concat(x),x:f,y:s,width:m,height:u,stroke:"none",fill:r[y],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var Gt=function(t,n){var r=t.xAxis,a=t.width,o=t.height,s=t.offset;return Ce(fe(P(P(P({},G.defaultProps),r),{},{ticks:Z(r,!0),viewBox:{x:0,y:0,width:a,height:o}})),s.left,s.left+s.width,n)},Dt=function(t,n){var r=t.yAxis,a=t.width,o=t.height,s=t.offset;return Ce(fe(P(P(P({},G.defaultProps),r),{},{ticks:Z(r,!0),viewBox:{x:0,y:0,width:a,height:o}})),s.top,s.top+s.height,n)},R={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ze(e){var t,n,r,a,o,s,d=ue(),u=he(),h=Ue(),l=P(P({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:R.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:R.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:R.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:R.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:R.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:R.verticalFill,x:C(e.x)?e.x:h.left,y:C(e.y)?e.y:h.top,width:C(e.width)?e.width:h.width,height:C(e.height)?e.height:h.height}),p=l.x,f=l.y,x=l.width,c=l.height,m=l.syncWithTicks,y=l.horizontalValues,j=l.verticalValues,v=Ze(),g=Je();if(!C(x)||x<=0||!C(c)||c<=0||!C(p)||p!==+p||!C(f)||f!==+f)return null;var w=l.verticalCoordinatesGenerator||Gt,O=l.horizontalCoordinatesGenerator||Dt,S=l.horizontalPoints,T=l.verticalPoints;if((!S||!S.length)&&E(O)){var D=y&&y.length,z=O({yAxis:g?P(P({},g),{},{ticks:D?y:g.ticks}):void 0,width:d,height:u,offset:h},D?!0:m);ge(Array.isArray(z),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat($(z),"]")),Array.isArray(z)&&(S=z)}if((!T||!T.length)&&E(w)){var xe=j&&j.length,H=w({xAxis:v?P(P({},v),{},{ticks:xe?j:v.ticks}):void 0,width:d,height:u,offset:h},xe?!0:m);ge(Array.isArray(H),"verticalCoordinatesGenerator should return Array but instead it returned [".concat($(H),"]")),Array.isArray(H)&&(T=H)}return b.createElement("g",{className:"recharts-cartesian-grid"},b.createElement(Mt,{fill:l.fill,fillOpacity:l.fillOpacity,x:l.x,y:l.y,width:l.width,height:l.height,ry:l.ry}),b.createElement(It,A({},l,{offset:h,horizontalPoints:S,xAxis:v,yAxis:g})),b.createElement(qt,A({},l,{offset:h,verticalPoints:T,xAxis:v,yAxis:g})),b.createElement(Lt,A({},l,{horizontalPoints:S})),b.createElement(Bt,A({},l,{verticalPoints:T})))}ze.displayName="CartesianGrid";function L(e){"@babel/helpers - typeof";return L=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(e)}function Wt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Me(r.key),r)}}function Yt(e,t,n){return t&&Oe(e.prototype,t),n&&Oe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ht(e,t,n){return t=X(t),Vt(e,Re()?Reflect.construct(t,n||[],X(e).constructor):t.apply(e,n))}function Vt(e,t){if(t&&(L(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kt(e)}function Kt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Re(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Re=function(){return!!e})()}function X(e){return X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},X(e)}function Xt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ae(e,t)}function ae(e,t){return ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},ae(e,t)}function Fe(e,t,n){return t=Me(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Me(e){var t=Ut(e,"string");return L(t)=="symbol"?t:t+""}function Ut(e,t){if(L(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(L(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function se(){return se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},se.apply(this,arguments)}function Zt(e){var t=e.xAxisId,n=ue(),r=he(),a=Qe(t);return a==null?null:_.createElement(G,se({},a,{className:M("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Z(s,!0)}}))}var J=function(e){function t(){return Wt(this,t),Ht(this,t,arguments)}return Xt(t,e),Yt(t,[{key:"render",value:function(){return _.createElement(Zt,this.props)}}])}(_.Component);Fe(J,"displayName","XAxis");Fe(J,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function B(e){"@babel/helpers - typeof";return B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(e)}function Jt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Le(r.key),r)}}function Qt(e,t,n){return t&&ke(e.prototype,t),n&&ke(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function er(e,t,n){return t=U(t),tr(e,Ie()?Reflect.construct(t,n||[],U(e).constructor):t.apply(e,n))}function tr(e,t){if(t&&(B(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rr(e)}function rr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ie=function(){return!!e})()}function U(e){return U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},U(e)}function ir(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oe(e,t)}function oe(e,t){return oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},oe(e,t)}function qe(e,t,n){return t=Le(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Le(e){var t=nr(e,"string");return B(t)=="symbol"?t:t+""}function nr(e,t){if(B(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(B(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function le(){return le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},le.apply(this,arguments)}var ar=function(t){var n=t.yAxisId,r=ue(),a=he(),o=et(n);return o==null?null:_.createElement(G,le({},o,{className:M("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(d){return Z(d,!0)}}))},Q=function(e){function t(){return Jt(this,t),er(this,t,arguments)}return ir(t,e),Qt(t,[{key:"render",value:function(){return _.createElement(ar,this.props)}}])}(_.Component);qe(Q,"displayName","YAxis");qe(Q,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var sr=tt({chartName:"BarChart",GraphicalChild:_e,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:J},{axisType:"yAxis",AxisComp:Q}],formatAxisMap:rt});const or=()=>{const{parameters:e,updateParameter:t}=ce(),{sequestration:n}=de();return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-green-50 p-4 rounded-lg mb-4",children:[i.jsx("h3",{className:"text-sm font-semibold text-green-800 mb-2",children:"Carbon Sequestration Activities"}),i.jsx("p",{className:"text-xs text-green-700",children:"Add nature-based and technology solutions to offset your farm's emissions."})]}),i.jsx(W,{label:"Tree Planting (hectares)",value:e.treePlantingHa,onChange:r=>t("treePlantingHa",r),min:0,max:50,step:1,unit:" ha",decimals:0,info:e.treePlantingHa>0?`↓ ${n.treeSequestration.toFixed(1)} t CO₂e/year`:void 0}),i.jsx(W,{label:"Hedgerow Planting (km)",value:e.hedgerowKm,onChange:r=>t("hedgerowKm",r),min:0,max:20,step:.5,unit:" km",decimals:1,info:e.hedgerowKm>0?`↓ ${n.hedgerowSequestration.toFixed(1)} t CO₂e/year`:void 0}),i.jsx(W,{label:"Soil Carbon Management (ha)",value:e.soilCarbonHa,onChange:r=>t("soilCarbonHa",r),min:0,max:100,step:5,unit:" ha",decimals:0,info:e.soilCarbonHa>0?`↓ ${n.soilCarbonSequestration.toFixed(1)} t CO₂e/year`:void 0}),i.jsx(W,{label:"Cover Crops (hectares)",value:e.coverCropsHa,onChange:r=>t("coverCropsHa",r),min:0,max:80,step:5,unit:" ha",decimals:0,info:e.coverCropsHa>0?`↓ ${n.coverCropSequestration.toFixed(1)} t CO₂e/year`:void 0}),i.jsx(W,{label:"Renewable Energy (kW)",value:e.renewableEnergyKw,onChange:r=>t("renewableEnergyKw",r),min:0,max:200,step:10,unit:" kW",decimals:0,info:e.renewableEnergyKw>0?`↓ ${n.renewableOffset.toFixed(1)} t CO₂e/year`:void 0}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("label",{htmlFor:"methane-inhibitor-checkbox",className:"flex items-center text-sm",children:[i.jsx("input",{id:"methane-inhibitor-checkbox",name:"methane-inhibitor-checkbox",type:"checkbox",checked:e.methaneInhibitor,onChange:r=>t("methaneInhibitor",r.target.checked),className:"mr-2"}),i.jsx("span",{className:"font-medium",children:"Methane Inhibitor Feed Additive"})]}),e.methaneInhibitor&&i.jsxs("div",{className:"text-xs text-green-600 ml-6",children:["↓ ",n.methaneReduction.toFixed(1)," t CO₂e/year (15% reduction)"]}),i.jsxs("label",{htmlFor:"improved-manure-checkbox",className:"flex items-center text-sm",children:[i.jsx("input",{id:"improved-manure-checkbox",name:"improved-manure-checkbox",type:"checkbox",checked:e.improvedManure,onChange:r=>t("improvedManure",r.target.checked),className:"mr-2"}),i.jsx("span",{className:"font-medium",children:"Improved Manure Management"})]}),e.improvedManure&&i.jsxs("div",{className:"text-xs text-green-600 ml-6",children:["↓ ",n.improvedManureReduction.toFixed(1)," t CO₂e/year (30% reduction)"]})]}),i.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg mt-4",children:[i.jsx("h4",{className:"text-sm font-semibold text-blue-800 mb-2",children:"Sequestration Summary"}),i.jsxs("div",{className:"space-y-1 text-xs",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-blue-700",children:"Nature-based Solutions:"}),i.jsxs("span",{className:"font-semibold text-blue-800",children:[(n.treeSequestration+n.hedgerowSequestration+n.soilCarbonSequestration+n.coverCropSequestration).toFixed(1)," t CO₂e"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-blue-700",children:"Technology Solutions:"}),i.jsxs("span",{className:"font-semibold text-blue-800",children:[(n.renewableOffset+n.methaneReduction+n.improvedManureReduction).toFixed(1)," t CO₂e"]})]}),i.jsxs("div",{className:"flex justify-between border-t pt-1 mt-1",children:[i.jsx("span",{className:"text-blue-700 font-medium",children:"Total Sequestration:"}),i.jsxs("span",{className:"font-bold text-blue-900",children:[n.totalSequestration.toFixed(1)," t CO₂e/year"]})]})]})]})]})},lr=.02,cr=5,ie=new Date().getFullYear(),Pe=10,dr=()=>{const{parameters:e}=ce(),{emissions:t,sequestration:n}=de();return _.useMemo(()=>{const r=De(e.herdSize),a=t.totalAnnualEmissions*e.herdSize/1e3,o=n.totalSequestration,s=[];for(let l=0;l<Pe;l++){const p=ie+l,f=Math.pow(1-lr,l),x=a*f,c=Math.min(1,l/cr),m=o*c,y=Math.max(0,x-m),j=Ge(x-r/1e3,r/1e3,0)*100;s.push({year:p,gross:x,theoreticalMinimum:r/1e3,sequestration:m,net:y,percentAboveTM:j})}const d=s[s.length-1],u=d.net<=0,h=d.gross<=d.theoreticalMinimum;return{years:s,currentYear:ie,targetYear:ie+Pe-1,canReachNetZero:u,canReachTM:h}},[e,t,n])},ur=()=>{const{years:e,canReachNetZero:t,canReachTM:n}=dr(),{sequestration:r}=de();if(e.length===0)return null;const a=Math.max(...e.map(c=>c.gross)),o=Math.min(...e.map(c=>Math.min(c.net,0))),s=e[0].theoreticalMinimum,u=(a-o)*.1,h=a+u,l=Math.min(0,o-u),p=c=>320-(c-l)/(h-l)*280,f=c=>60+c/(e.length-1)*600;e.findIndex(c=>c.net<=0);const x=e.findIndex(c=>c.gross<=c.theoreticalMinimum);return i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[i.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[i.jsx(dt,{className:"mr-2 text-green-600",size:20}),"Net-Carbon Glide Path 2.0"]}),i.jsxs("div",{className:"relative",style:{height:"400px"},children:[i.jsxs("svg",{width:"100%",height:"360",viewBox:"0 0 700 360",preserveAspectRatio:"xMidYMid meet",children:[i.jsx("rect",{x:"60",y:"30",width:"600",height:"290",fill:"#f9fafb",rx:"4"}),l<0&&h>0&&i.jsx("line",{x1:"60",y1:p(0),x2:"660",y2:p(0),stroke:"#10B981",strokeWidth:"2",strokeDasharray:"5,5"}),i.jsx("line",{x1:"60",y1:p(s),x2:"660",y2:p(s),stroke:"#8B5CF6",strokeWidth:"2.5",strokeDasharray:"8,4"}),[0,25,50,75,100].map(c=>{const m=320-c/100*290;return i.jsx("line",{x1:"60",y1:m,x2:"660",y2:m,stroke:"#e5e7eb",strokeWidth:"1",strokeDasharray:"3,3"},c)}),[0,25,50,75,100].map(c=>{const m=l+c/100*(h-l),y=320-c/100*290;return i.jsx("text",{x:"50",y:y+4,textAnchor:"end",fontSize:"10",fill:"#6b7280",children:Math.round(m)},c)}),i.jsx("text",{x:"665",y:p(s)+4,textAnchor:"start",fontSize:"10",fill:"#8B5CF6",fontWeight:"500",children:"TM"}),i.jsx("path",{d:`
              M ${e.map((c,m)=>`${f(m)},${p(c.gross)}`).join(" L ")}
              L ${e.slice().reverse().map((c,m)=>`${f(e.length-1-m)},${p(c.net)}`).join(" L ")}
              Z
            `,fill:"#10B981",opacity:"0.2"}),i.jsx("polyline",{fill:"none",stroke:"#DC2626",strokeWidth:"3",strokeLinejoin:"round",strokeLinecap:"round",points:e.map((c,m)=>`${f(m)},${p(c.gross)}`).join(" ")}),i.jsx("polyline",{fill:"none",stroke:"#10B981",strokeWidth:"3",strokeLinejoin:"round",strokeLinecap:"round",points:e.map((c,m)=>`${f(m)},${p(c.net)}`).join(" ")}),e.map((c,m)=>{const y=f(m);return i.jsxs("g",{children:[i.jsx("rect",{x:y-20,y:"30",width:"40",height:"290",fill:"transparent",className:"cursor-pointer",children:i.jsxs("title",{children:[c.year,": Gross: ",c.gross.toFixed(1),"t TM: ",c.theoreticalMinimum.toFixed(1),"t Above TM: ",c.percentAboveTM.toFixed(0),"% Sequestration: ",c.sequestration.toFixed(1),"t Net: ",c.net.toFixed(1),"t"]})}),i.jsx("circle",{cx:y,cy:p(c.gross),r:"4",fill:"white",stroke:"#DC2626",strokeWidth:"2"}),i.jsx("circle",{cx:y,cy:p(c.net),r:"4",fill:"white",stroke:"#10B981",strokeWidth:"2"}),c.net<=0&&m>0&&e[m-1].net>0&&i.jsxs("g",{children:[i.jsx("circle",{cx:y,cy:p(0),r:"8",fill:"#10B981"}),i.jsx("text",{x:y,y:p(0)+4,textAnchor:"middle",fontSize:"10",fill:"white",fontWeight:"bold",children:"✓"}),i.jsx("text",{x:y,y:p(0)-15,textAnchor:"middle",fontSize:"9",fill:"#10B981",fontWeight:"bold",children:"Net Zero"})]}),c.gross<=c.theoreticalMinimum&&m>0&&e[m-1].gross>e[m-1].theoreticalMinimum&&i.jsxs("g",{children:[i.jsx("circle",{cx:y,cy:p(s),r:"8",fill:"#8B5CF6"}),i.jsx("text",{x:y,y:p(s)+4,textAnchor:"middle",fontSize:"10",fill:"white",fontWeight:"bold",children:"✓"})]})]},m)}),e.filter((c,m)=>m%2===0).map((c,m)=>{const y=f(m*2);return i.jsx("text",{x:y,y:"340",textAnchor:"middle",fontSize:"11",fill:"#6b7280",children:c.year},m)}),i.jsx("text",{x:"20",y:"175",textAnchor:"middle",fontSize:"11",fill:"#374151",fontWeight:"500",transform:"rotate(-90 20 175)",children:"Emissions (t CO₂e/year)"})]}),i.jsxs("div",{className:"flex gap-6 justify-center mt-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("svg",{width:"20",height:"16",children:i.jsx("circle",{cx:"8",cy:"8",r:"4",fill:"white",stroke:"#DC2626",strokeWidth:"2"})}),i.jsx("span",{className:"text-xs text-gray-700",children:"Gross Emissions"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("svg",{width:"20",height:"16",children:i.jsx("line",{x1:"0",y1:"8",x2:"16",y2:"8",stroke:"#8B5CF6",strokeWidth:"2.5",strokeDasharray:"6,2"})}),i.jsx("span",{className:"text-xs text-gray-700",children:"Theoretical Minimum"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("svg",{width:"20",height:"16",children:i.jsx("rect",{x:"0",y:"4",width:"16",height:"8",fill:"#10B981",opacity:"0.2"})}),i.jsx("span",{className:"text-xs text-gray-700",children:"Sequestration"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("svg",{width:"20",height:"16",children:i.jsx("circle",{cx:"8",cy:"8",r:"4",fill:"white",stroke:"#10B981",strokeWidth:"2"})}),i.jsx("span",{className:"text-xs text-gray-700",children:"Net Emissions"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-2",children:"Current Status"}),i.jsxs("div",{className:"space-y-1 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Above TM:"}),i.jsxs("span",{className:"font-semibold",children:[e[0].percentAboveTM.toFixed(0),"%"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Net Emissions:"}),i.jsxs("span",{className:"font-semibold",children:[e[0].net.toFixed(1),"t"]})]})]})]}),i.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[i.jsxs("h4",{className:"text-sm font-semibold text-purple-800 mb-2 flex items-center",children:["Theoretical Minimum",i.jsxs("button",{className:"ml-1 text-purple-600 hover:text-purple-800",children:[i.jsx(it,{size:14}),i.jsx("span",{className:"sr-only",children:"Biological floor information"})]})]}),i.jsxs("div",{className:"text-xs text-purple-700 mb-1",children:["Biological floor: ",s.toFixed(1),"t CO₂e"]}),i.jsx("div",{className:"text-xs text-purple-600",children:n?`Can reach TM by ${e[x].year}`:"Additional measures needed to reach TM"})]}),i.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[i.jsx("h4",{className:"text-sm font-semibold text-green-800 mb-2",children:"Carbon Credits"}),i.jsxs("div",{className:"space-y-1 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-green-700",children:"Annual:"}),i.jsxs("span",{className:"font-semibold",children:["£",(r.totalSequestration*25).toFixed(0)]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-green-700",children:"10-Year:"}),i.jsxs("span",{className:"font-semibold",children:["£",(r.totalSequestration*25*10).toFixed(0)]})]})]})]})]})]})},Se={Feed:"#10b981",Manure:"#8b5cf6",Technology:"#3b82f6",Management:"#f59e0b"},hr=({measures:e,currentEmissions:t,targetEmissions:n})=>{const r=[{name:"Current",value:t,type:"current"}];let a=0;e.forEach(s=>{r.push({name:s.name,value:-s.potentialReduction,base:t-a,type:"reduction",category:s.category}),a+=s.potentialReduction}),r.push({name:"Projected",value:t-a,type:"projected"}),r.push({name:"Target (TM)",value:n,type:"target"});const o=({active:s,payload:d})=>{if(s&&d&&d[0]){const u=d[0].payload;if(u.type==="reduction"){const h=e.find(l=>l.name===u.name);return i.jsxs("div",{className:"bg-white p-3 border rounded shadow-lg",children:[i.jsx("p",{className:"font-semibold",children:u.name}),i.jsxs("p",{className:"text-sm text-gray-600",children:["Category: ",h==null?void 0:h.category]}),i.jsxs("p",{className:"text-sm",children:["Reduction: ",Math.abs(u.value).toFixed(0)," kg CO₂e/year"]}),i.jsxs("p",{className:"text-sm",children:["Difficulty: ",h==null?void 0:h.difficulty]}),i.jsxs("p",{className:"text-sm",children:["Time: ",h==null?void 0:h.timeToImplement," months"]})]})}return i.jsxs("div",{className:"bg-white p-3 border rounded shadow-lg",children:[i.jsx("p",{className:"font-semibold",children:u.name}),i.jsxs("p",{className:"text-sm",children:["Emissions: ",u.value.toFixed(0)," kg CO₂e/year"]})]})}return null};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Emissions Reduction Pathway"}),i.jsx(nt,{width:"100%",height:400,children:i.jsxs(sr,{data:r,margin:{top:20,right:30,left:40,bottom:60},children:[i.jsx(ze,{strokeDasharray:"3 3"}),i.jsx(J,{dataKey:"name",angle:-45,textAnchor:"end",height:100,fontSize:12}),i.jsx(Q,{label:{value:"Emissions (kg CO₂e/year)",angle:-90,position:"insideLeft"}}),i.jsx(at,{content:i.jsx(o,{})}),i.jsx(_e,{dataKey:"value",children:r.map((s,d)=>i.jsx(st,{fill:s.type==="current"?"#ef4444":s.type==="reduction"?Se[s.category]:s.type==="projected"?"#3b82f6":"#8b5cf6",fillOpacity:s.type==="target"?.5:1},`cell-${d}`))})]})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[i.jsx("h4",{className:"font-semibold text-blue-900",children:"Current Emissions"}),i.jsx("p",{className:"text-2xl font-bold text-blue-900",children:t.toFixed(0)}),i.jsx("p",{className:"text-sm text-blue-700",children:"kg CO₂e/year"})]}),i.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[i.jsx("h4",{className:"font-semibold text-green-900",children:"Potential Reduction"}),i.jsx("p",{className:"text-2xl font-bold text-green-900",children:e.reduce((s,d)=>s+d.potentialReduction,0).toFixed(0)}),i.jsx("p",{className:"text-sm text-green-700",children:"kg CO₂e/year"})]})]}),i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[i.jsx("h4",{className:"font-semibold mb-2",children:"Reduction Measures by Category"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(Se).map(([s,d])=>{const h=e.filter(l=>l.category===s).reduce((l,p)=>l+p.potentialReduction,0);return h===0?null:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:d}}),i.jsxs("span",{className:"text-sm",children:[s,": ",h.toFixed(0)," kg CO₂e"]})]},s)})})]})]})},fr=()=>{const e=ce(s=>s.parameters),t=_.useMemo(()=>ot(e),[e]),n=_.useMemo(()=>lt(t),[t]),r=_.useMemo(()=>ct(t),[t]),a=(t.gap/t.currentEmissions*100).toFixed(1),o=(t.totalPotentialReduction/t.currentEmissions*100).toFixed(1);return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:`p-4 rounded-lg ${t.canReachTarget?"bg-green-50":"bg-yellow-50"}`,children:[i.jsx("h3",{className:`font-semibold ${t.canReachTarget?"text-green-900":"text-yellow-900"}`,children:"Target Status"}),i.jsx("p",{className:`text-2xl font-bold ${t.canReachTarget?"text-green-900":"text-yellow-900"}`,children:t.canReachTarget?"Achievable":"Challenging"}),i.jsx("p",{className:`text-sm ${t.canReachTarget?"text-green-700":"text-yellow-700"}`,children:t.canReachTarget?"Theoretical minimum can be reached":"Additional measures needed"})]}),i.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[i.jsx("h3",{className:"font-semibold text-blue-900",children:"Gap to TM"}),i.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:[a,"%"]}),i.jsxs("p",{className:"text-sm text-blue-700",children:[t.gap.toFixed(0)," kg CO₂e/year"]})]}),i.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[i.jsx("h3",{className:"font-semibold text-purple-900",children:"Reduction Potential"}),i.jsxs("p",{className:"text-2xl font-bold text-purple-900",children:[o,"%"]}),i.jsxs("p",{className:"text-sm text-purple-700",children:[t.measures.length," measures identified"]})]})]}),i.jsx(hr,{measures:t.measures,currentEmissions:t.currentEmissions,targetEmissions:t.targetEmissions}),i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Implementation Timeline"}),i.jsxs("div",{className:"space-y-2",children:[n.slice(0,5).map((s,d)=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"text-sm font-semibold text-gray-600",children:s.year}),i.jsx("span",{className:"text-sm",children:s.measure})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-sm font-semibold",children:["-",(s.cumulativeReduction/t.currentEmissions*100).toFixed(1),"%"]}),i.jsx("p",{className:"text-xs text-gray-600",children:"cumulative"})]})]},d)),n.length>5&&i.jsxs("p",{className:"text-sm text-gray-600 text-center pt-2",children:["+",n.length-5," more measures"]})]})]}),i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Investment Overview"}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Total Investment"}),i.jsxs("p",{className:"text-lg font-semibold",children:["$",r.totalInvestment.toLocaleString()]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Annual Payment"}),i.jsxs("p",{className:"text-lg font-semibold",children:["$",r.annualPayment.toLocaleString()]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Payback Period"}),i.jsxs("p",{className:"text-lg font-semibold",children:[r.paybackPeriod.toFixed(1)," years"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"10-Year NPV"}),i.jsxs("p",{className:`text-lg font-semibold ${r.netPresentValue>0?"text-green-600":"text-red-600"}`,children:["$",r.netPresentValue.toLocaleString()]})]})]})]}),i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Reduction Measures (Ranked by ROI)"}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Measure"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Category"}),i.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Reduction"}),i.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Cost/Year"}),i.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"ROI"}),i.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 uppercase",children:"Difficulty"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.measures.map(s=>{const d=s.potentialReduction*.02/(s.cost/e.herdSize)*100;return i.jsxs("tr",{children:[i.jsx("td",{className:"px-4 py-2 text-sm",children:s.name}),i.jsx("td",{className:"px-4 py-2 text-sm",children:s.category}),i.jsxs("td",{className:"px-4 py-2 text-sm text-right",children:[s.potentialReduction.toFixed(0)," kg CO₂e"]}),i.jsxs("td",{className:"px-4 py-2 text-sm text-right",children:["$",s.cost.toLocaleString()]}),i.jsxs("td",{className:"px-4 py-2 text-sm text-right font-semibold",children:[d.toFixed(0),"%"]}),i.jsx("td",{className:"px-4 py-2 text-sm text-center",children:i.jsx("span",{className:`px-2 py-1 rounded text-xs ${s.difficulty==="Easy"?"bg-green-100 text-green-800":s.difficulty==="Medium"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:s.difficulty})})]},s.id)})})]})})]})]})},vr=({state:e,actions:t})=>{const n=e.sequestration.totalSequestration*25;return i.jsxs("div",{className:"p-6",children:[i.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Carbon Sequestration & Credits"}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Sequestration Options"}),i.jsx(or,{})]}),i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Annual Sequestration"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Total Sequestration"}),i.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[e.sequestration.totalSequestration.toFixed(1)," t CO₂e"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Potential Credit Value"}),i.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["£",n.toFixed(0)]})]})]}),i.jsxs("div",{className:"mt-4 space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Hedgerows"}),i.jsxs("span",{children:[e.sequestration.hedgerowSequestration.toFixed(1)," t"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Trees"}),i.jsxs("span",{children:[e.sequestration.treeSequestration.toFixed(1)," t"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Soil"}),i.jsxs("span",{children:[e.sequestration.soilCarbonSequestration.toFixed(1)," t"]})]})]})]})})]}),i.jsx("div",{className:"mt-6",children:i.jsx(ur,{})}),i.jsxs("div",{className:"mt-6",children:[i.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Reduction Pathway to Theoretical Minimum"}),i.jsx(fr,{})]})]})};export{vr as default};
